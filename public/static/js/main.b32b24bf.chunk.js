(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{126:function(t,e,n){},151:function(t,e,n){},152:function(t,e,n){},153:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(30),s=n.n(a),o=n(19),i=n(51),u=n(15),l=(n(126),n(1)),p=function(){var t=Object(u.f)();return Object(l.jsx)("div",{className:"app-footer",children:Object(l.jsx)("button",{className:"transfer-btn",onClick:function(){t.push("/contact")},children:"Contacts"})})},j=n(4),h=n.n(j),b=n(10),d=n(47),f=n.n(d),O="/api/",m=f.a.create({withCredentials:!0}),x=function(t,e){return y(t,"GET",e)},v=function(t,e){return y(t,"POST",e)},g=function(t,e){return y(t,"PUT",e)},w=function(t,e){return y(t,"DELETE",e)};function y(t){return C.apply(this,arguments)}function C(){return C=Object(b.a)(h.a.mark((function t(e){var n,c,r,a=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",c=a.length>2&&void 0!==a[2]?a[2]:null,t.prev=2,t.next=5,m({url:"".concat(O).concat(e),method:n,data:c,params:"GET"===n?c:null});case 5:return r=t.sent,t.abrupt("return",r.data);case 9:throw t.prev=9,t.t0=t.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(c)),console.dir(t.t0),t.t0.response&&t.t0.response.status,t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),C.apply(this,arguments)}var k={getUsers:function(){return x("user")},getById:function(t){return x("user/".concat(t))},remove:function(t){return w("user/".concat(t))},update:function(t){return S.apply(this,arguments)},login:function(t){return N.apply(this,arguments)},signup:function(t){return T.apply(this,arguments)},logout:function(){return E.apply(this,arguments)},getLoggedInUser:function(){return _.apply(this,arguments)}};function S(){return(S=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g("user/".concat(e._id),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v("auth/login",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(){return(T=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v("auth/signup",e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("service",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function E(){return(E=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v("auth/logout");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){return(_=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("auth/loggedInUser");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}window.userService=k;var L={addTransfer:function(t,e){return D.apply(this,arguments)},getTransfers:function(){return F.apply(this,arguments)},getTransfersByContactId:function(t){return U.apply(this,arguments)}};function D(){return(D=Object(b.a)(h.a.mark((function t(e,n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v("transfer/",{contactEmail:e,amount:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function F(){return(F=Object(b.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x("transfer/");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){return(U=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",x("transfer/".concat(e)));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var I=function(){return function(){var t=Object(b.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.getLoggedInUser();case 2:n=t.sent,e({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=n(9),A=n(214),R=n(205),B=n(203),q=n(206),z=n(201),M=n(200),G=n(215),H=n(202),W=n(100),J=n.n(W),V=n(101),X=n.n(V),Y=n(216),K=function(t){var e=t.loggedUser,n=t.logout,r=t.history,a=c.useState(null),s=Object(P.a)(a,2),o=s[0],i=s[1],u=Boolean(o),p=function(){i(null)};return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsxs)(A.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[e&&Object(l.jsx)(Y.a,{sx:{minWidth:100},children:e.email}),Object(l.jsx)(H.a,{title:"Profile",children:Object(l.jsx)(G.a,{onClick:function(t){i(t.currentTarget)},size:"small",sx:{ml:2},children:e?Object(l.jsx)(R.a,{alt:e.fullname,src:e.img}):Object(l.jsx)(R.a,{})})})]}),Object(l.jsxs)(B.a,{anchorEl:o,open:u,onClose:p,onClick:p,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[Object(l.jsxs)(q.a,{onClick:function(){return r.push("/user")},children:[Object(l.jsx)(R.a,{}),"Profile"]}),Object(l.jsx)(M.a,{}),e&&Object(l.jsxs)(q.a,{onClick:n,children:[Object(l.jsx)(z.a,{children:Object(l.jsx)(J.a,{fontSize:"small"})}),"Logout"]}),!e&&Object(l.jsxs)(q.a,{onClick:function(){return r.push("/signup")},children:[Object(l.jsx)(z.a,{children:Object(l.jsx)(X.a,{fontSize:"small"})}),"Login"]}),!e&&Object(l.jsx)(q.a,{onClick:function(){return r.push("/signup")},children:"SignUp"})]})]})},Q=function(){var t=Object(o.c)((function(t){return t.userReducer.user})),e=Object(u.f)(),n=Object(o.b)();return Object(l.jsx)("header",{className:"app-header full",children:Object(l.jsx)(K,{loggedUser:t,logout:function(){n(function(){var t=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.logout();case 2:e({type:"LOGOUT"});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){return e.push("/")}))},history:e})})},Z=function(t){var e=t.transfer,n=new Date(e.createdAt).toLocaleTimeString("en-US"),c=new Date(e.createdAt).toLocaleDateString();return Object(l.jsxs)("li",{className:"transfer-preview",children:[Object(l.jsxs)("p",{children:[" From: ",e.from," "]}),Object(l.jsxs)("p",{children:[" To: ",e.to," "]}),Object(l.jsxs)("p",{children:[" Amount: ",e.amount," "]}),Object(l.jsxs)("p",{children:["Created at: ",c,", ",n]})]})},$=function(t){var e=t.transfers,n=t.title;return Object(l.jsxs)("section",{className:"transfer-list",children:[Object(l.jsx)("h3",{children:n}),Object(l.jsx)("ul",{className:"card-list",children:e.map((function(t,e){return Object(l.jsx)(Z,{transfer:t},e)}))})]})},tt=function(t){var e=t.contact,n=t.onTransferCoins,r=Object(c.useState)(0),a=Object(P.a)(r,2),s=a[0],o=a[1],i=Object(u.f)();return Object(l.jsxs)("section",{className:"transfer-fund",children:[Object(l.jsxs)("h3",{children:["Transfer coins to ",e.name,":"]}),Object(l.jsxs)("form",{onSubmit:function(t){n(s,t),i.push("/contact")},children:[Object(l.jsx)("label",{htmlFor:"amount",children:"Amount:"}),Object(l.jsx)("input",{required:!0,id:"amount",onChange:function(t){var e=t.target,n="number"===e.type?+e.value:e.value;o(n)}}),Object(l.jsx)("button",{children:"Transfer"})]})]})},et={getContacts:function(){return rt.apply(this,arguments)},getContactById:function(t){return at.apply(this,arguments)},deleteContact:function(t){return ot.apply(this,arguments)},saveContact:function(t){return it.apply(this,arguments)},getEmptyContact:function(){return{contactName:"",contactEmail:"",contactPhone:""}},addContact:function(t){return st.apply(this,arguments)}},nt="contact/";function ct(t){return t.sort((function(t,e){return t.contactName.toLocaleLowerCase()<e.contactName.toLocaleLowerCase()?-1:t.contactName.toLocaleLowerCase()>e.contactName.toLocaleLowerCase()?1:0}))}function rt(){return rt=Object(b.a)(h.a.mark((function t(){var e,n,c,r=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:null,t.prev=1,t.next=4,x(nt);case 4:if(c=t.sent,!e){t.next=8;break}return n=ut(e,c),t.abrupt("return",ct(n));case 8:return t.abrupt("return",ct(c));case 11:t.prev=11,t.t0=t.catch(1),console.log("cant get contacts",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])}))),rt.apply(this,arguments)}function at(){return(at=Object(b.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x(nt+e);case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log("Contact id ".concat(e," not found!"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function st(){return(st=Object(b.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(nt,{contact:e});case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log("Contact username ".concat(e.username," not found!"),t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function ot(){return(ot=Object(b.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(nt+e,e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("cant delete contact ".concat(e),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function it(){return(it=Object(b.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e._id){t.next=7;break}return t.next=4,g(nt+e._id,e);case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,v(nt,e);case 9:n=t.sent;case 10:return t.abrupt("return",n);case 13:t.prev=13,t.t0=t.catch(0),console.log("cant save contact ".concat(e),t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function ut(t,e){t=t.toLocaleLowerCase();var n=e.filter((function(e){return e.contactName.toLocaleLowerCase().includes(t)||e.contactPhone.toLocaleLowerCase().includes(t)||e.contactEmail.toLocaleLowerCase().includes(t)}));return console.log({filteredContacts:n}),n}var lt=n.p+"static/media/contact.42200432.png",pt=function(t){var e=Object(o.c)((function(t){return t.userReducer.user})),n=Object(o.c)((function(t){return t.contactReducer.currContact})),r=Object(c.useState)([]),a=Object(P.a)(r,2),s=a[0],i=a[1],u=Object(o.b)();e||u(I()),Object(c.useEffect)((function(){var e;u((e=t.match.params.id,function(){var t=Object(b.a)(h.a.mark((function t(n){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,et.getContactById(e);case 2:c=t.sent,n({type:"SET_CONTACT",contact:c});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[u,t.match.params.id]),Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getTransfersByContactId(n._id);case 2:e=t.sent,i(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n&&t()}),[n]);return n?Object(l.jsxs)("div",{className:"contact-details",children:[Object(l.jsx)("h1",{children:"Contact Details Page:"}),n.contactImg?Object(l.jsx)("img",{src:n.contactImg,alt:""}):Object(l.jsx)("img",{src:lt,alt:""}),Object(l.jsxs)("p",{children:["Name: ",n.contactName]}),Object(l.jsxs)("p",{children:["Email: ",n.contactEmail]}),Object(l.jsxs)("p",{children:["Phone: ",n.contactPhone]}),Object(l.jsx)(tt,{contact:n,onTransferCoins:function(t,c){if(c.preventDefault(),e.coins<t)return alert("No enough money");var r,a;u((r=n.contactEmail,a=t,function(){var t=Object(b.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.addTransfer(r,a);case 2:n=t.sent,e({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}}),s&&Object(l.jsx)($,{transfers:s,title:"Transfers with contact"}),Object(l.jsx)("button",{onClick:function(){t.history.push("/contact")},children:"Back"}),Object(l.jsx)("button",{onClick:function(){t.history.push("/contact/edit/".concat(n._id))},children:"Edit"})]}):Object(l.jsx)("div",{children:"Contact not found..."})},jt=n(8),ht=n(18),bt=function(){var t=Object(b.a)(h.a.mark((function t(e){var n,c,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"mister-bitcoin-present","mister-bitcoin",n="https://api.cloudinary.com/v1_1/".concat("mister-bitcoin","/image/upload"),(c=new FormData).append("file",e.target.files[0]),c.append("upload_preset","mister-bitcoin-present"),t.prev=6,t.next=9,f.a.post(n,c);case 9:return r=t.sent,t.abrupt("return",r.data);case 13:t.prev=13,t.t0=t.catch(6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),dt=function(t){var e=Object(o.c)((function(t){return t.userReducer.user})),n=Object(c.useState)(null),r=Object(P.a)(n,2),a=r[0],s=r[1],i=Object(o.b)();Object(c.useEffect)((function(){e||i(I());var n=t.match.params.id,c=function(){var t=Object(b.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,et.getContactById(e);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=et.getEmptyContact();case 7:n=t.t0,s(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();c(n)}),[i,e,t.match.params.id]);var u=function(){var t=Object(b.a)(h.a.mark((function t(e){var n,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.target.name,"file"!==e.target.type){t.next=7;break}return t.next=4,bt(e);case 4:c=t.sent.url,t.next=8;break;case 7:c="number"===e.target.type?+e.target.value:e.target.value;case 8:s(Object(ht.a)(Object(ht.a)({},a),{},Object(jt.a)({},n,c)));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.deleteContact(a._id);case 2:t.history.push("/contact");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?Object(l.jsxs)("div",{className:"contact-edit",children:[Object(l.jsx)("button",{onClick:function(){t.history.push("/contact/".concat(a._id))},children:"Back"}),a._id&&Object(l.jsx)("button",{onClick:p,children:"Delete"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(function(t){return function(){var e=Object(b.a)(h.a.mark((function e(n){var c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!t._id,e.next=3,et.saveContact(t);case 3:r=e.sent,n(c?{type:"ADD_CONTACT",contact:r}:{type:"UPDATE_CONTACT",updatedContact:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(a)).then((function(){return t.history.push("/contact")}))},children:[Object(l.jsxs)("div",{className:"contact-edit contact-name",children:[Object(l.jsx)("label",{htmlFor:"contactName",children:"Fullname"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactName",value:a.contactName,onChange:u,name:"contactName"})]}),Object(l.jsxs)("div",{className:"contact-edit contact-email",children:[Object(l.jsx)("label",{htmlFor:"contactEmail",children:"Email Address"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactEmail",value:a.contactEmail,onChange:u,name:"contactEmail"})]}),Object(l.jsxs)("div",{className:"contact-edit contact-phone",children:[Object(l.jsx)("label",{htmlFor:"contactPhone",children:"Phone Number"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactPhone",value:a.contactPhone,onChange:u,name:"contactPhone"})]}),Object(l.jsxs)("div",{className:"contact-edit contact-img",children:[Object(l.jsx)("label",{htmlFor:"contactImg",children:"Image"}),Object(l.jsx)("input",{type:"file",id:"contactImg",onChange:u,name:"contactImg"})]}),Object(l.jsx)("button",{children:"Save Contact"})]})]}):Object(l.jsx)("h1",{children:"Contact not found"})},ft=function(t){return Object(l.jsxs)("form",{className:"contact-filter",onSubmit:function(t){return t.preventDefault()},children:[Object(l.jsx)("label",{htmlFor:"term",children:"Search contact"}),Object(l.jsx)("input",{type:"text",id:"term",name:"term",onChange:function(e){var n=e.target;t.onChangeFilter(n.value)},placeholder:"Search..."})]})},Ot=function(t){var e=t.contact;return Object(l.jsx)(i.b,{to:"/contact/".concat(e._id),children:Object(l.jsxs)("div",{className:"contact-preview",children:[e.contactImg?Object(l.jsx)("img",{src:e.contactImg,alt:""}):Object(l.jsx)("img",{src:lt,alt:""}),Object(l.jsx)("p",{children:e.contactName}),Object(l.jsx)("p",{children:e.contactEmail}),Object(l.jsx)("p",{children:e.contactPhone})]})})},mt=function(t){var e=t.contacts;return Object(l.jsx)("ul",{className:"contact-list",children:e.map((function(t){return Object(l.jsx)("li",{children:Object(l.jsx)(Ot,{contact:t})},t._id)}))})},xt=(n.p,function(t){var e=t.history,n=Object(c.useState)(null),r=Object(P.a)(n,2),a=r[0],s=r[1],i=Object(o.c)((function(t){return t.userReducer.user})),u=Object(o.c)((function(t){return t.contactReducer.contacts})),p=Object(o.b)();return Object(c.useEffect)((function(){p(i?function(t){return function(){var e=Object(b.a)(h.a.mark((function e(n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et.getContacts(t);case 2:c=e.sent,n({type:"SET_CONTACTS",contacts:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(a):I())}),[a,p,i]),i?Object(l.jsxs)("div",{className:"contact-page",children:[Object(l.jsx)(ft,{onChangeFilter:function(t){s(t)}}),Object(l.jsx)("button",{onClick:function(){e.push("/contact/edit")},children:"Add contact"}),u?Object(l.jsx)(mt,{contacts:u}):Object(l.jsx)("h1",{children:"No contacts to show"})]}):Object(l.jsxs)("div",{className:"contact-page",children:[Object(l.jsx)("h1",{children:"Hello, Stranger"}),Object(l.jsx)("button",{onClick:function(){return e.push("/signup")},children:"Login/SignUp"})]})}),vt=n(47),gt={getRate:function(){return wt.apply(this,arguments)},getMarketPrice:function(){return yt.apply(this,arguments)},getConfirmedTransactions:function(){return Ct.apply(this,arguments)}};function wt(){return(wt=Object(b.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.get("https://blockchain.info/tobtc?currency=USD&value=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function yt(){return(yt=Object(b.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Ct(){return(Ct=Object(b.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,vt.get("https://blockchain.info/tobtc?currency=USD&value=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var kt=n(209),St=n(213),Nt=n(212),Tt=n(208),Et=n(210),_t=n(211),Lt=n(207),Dt=function(t){var e=t.rows;return Object(l.jsx)(Tt.a,{component:Lt.a,children:Object(l.jsxs)(kt.a,{sx:{minWidth:650},"aria-label":"sticky table",children:[Object(l.jsx)(Et.a,{children:Object(l.jsxs)(_t.a,{hover:!0,role:"checkbox",children:[Object(l.jsx)(Nt.a,{children:"From"}),Object(l.jsx)(Nt.a,{children:"To"}),Object(l.jsx)(Nt.a,{children:"Amount"}),Object(l.jsx)(Nt.a,{children:"Date"})]})}),Object(l.jsx)(St.a,{children:e.map((function(t){return Object(l.jsxs)(_t.a,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Nt.a,{children:t.from}),Object(l.jsx)(Nt.a,{children:t.to}),Object(l.jsx)(Nt.a,{children:t.amount}),Object(l.jsx)(Nt.a,{children:t.createdAt})]},t._id)}))})]})})},Ft=function(t){var e=t.history,n=Object(c.useState)(0),r=Object(P.a)(n,2),a=r[0],s=r[1],i=Object(o.c)((function(t){return t.userReducer.user})),u=Object(c.useState)(null),p=Object(P.a)(u,2),j=p[0],d=p[1],f=Object(o.b)(),O=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(1/a),m=i?Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(1/a*i.coins):null;Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getTransfers();case 2:e=t.sent,d(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i?t():f(I())}),[i,f]);var x=function(){var t=Object(b.a)(h.a.mark((function t(){var e;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gt.getRate();case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return x(),i?Object(l.jsxs)("div",{className:"home-page logged-user",children:[Object(l.jsxs)("div",{className:"user-balance",children:[Object(l.jsx)("h2",{children:m}),Object(l.jsxs)("h3",{children:["You have ",i.coins," bitcoins"]}),Object(l.jsxs)("h3",{children:["1 Bitcoin: ",O]})]}),Object(l.jsx)("div",{className:"transfers-table",children:j&&Object(l.jsx)(Dt,{rows:j})})]}):Object(l.jsx)("div",{className:"home-page guest",children:Object(l.jsxs)("div",{className:"guest-welcome",children:[Object(l.jsx)("h1",{children:"Welcome to Mister Bitcoin"}),Object(l.jsx)("p",{children:"Demo bitcoin wallet"}),Object(l.jsx)("button",{onClick:function(){return e.push("/signup")},children:"Login/SignUp"})]})})},Ut=function(t){var e=Object(c.useState)(null),n=Object(P.a)(e,2),r=n[0],a=n[1],s=Object(o.b)(),i=function(t){var e=t.target,n=e.name,c="number"===e.value?+e.value:e.value;a(Object(ht.a)(Object(ht.a)({},r),{},Object(jt.a)({},n,c)))};return Object(l.jsxs)("div",{className:"signup-page",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(function(t){return function(){var e=Object(b.a)(h.a.mark((function e(n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.login(t);case 2:c=e.sent,n({type:"SET_USER",user:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(r)),t.history.push("/")},children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsx)("label",{htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{required:!0,type:"text",id:"email",onChange:i,name:"email"}),Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{required:!0,type:"password",id:"password",onChange:i,name:"password"}),Object(l.jsx)("button",{children:"Login"})]}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(function(t){return function(){var e=Object(b.a)(h.a.mark((function e(n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.signup(t);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.log({"err actions1":e.t0}),e.t0;case 9:return e.next=11,k.getLoggedInUser();case 11:c=e.sent,n({type:"SET_USER",user:c});case 13:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()}(r)).then((function(){t.history.push("/")})).catch((function(t){console.log({"err page":t})}))},children:[Object(l.jsx)("h1",{children:"Signup"}),Object(l.jsx)("label",{htmlFor:"fullname",children:"Full name"}),Object(l.jsx)("input",{required:!0,type:"text",id:"fullname",onChange:i,name:"fullname"}),Object(l.jsx)("label",{htmlFor:"username",children:"User name"}),Object(l.jsx)("input",{required:!0,type:"text",id:"username",onChange:i,name:"username"}),Object(l.jsx)("label",{htmlFor:"password",children:"Password"}),Object(l.jsx)("input",{required:!0,type:"password",id:"password-login",onChange:i,name:"password"}),Object(l.jsx)("label",{htmlFor:"email",children:"Email"}),Object(l.jsx)("input",{required:!0,type:"text",id:"email-login",onChange:i,name:"email"}),Object(l.jsx)("label",{htmlFor:"phone",children:"Phone number"}),Object(l.jsx)("input",{required:!0,type:"text",id:"phone",onChange:i,name:"phone"}),Object(l.jsx)("button",{children:"Sign up"}),Object(l.jsx)("hr",{})]})]})},It=n(68),Pt=function(t){t.title;var e=t.data,n=t.description;return Object(l.jsxs)("div",{className:"chart",children:[Object(l.jsx)("h1",{children:n}),Object(l.jsxs)(It.Sparklines,{data:e,children:[Object(l.jsx)(It.SparklinesLine,{color:"red"}),Object(l.jsx)(It.SparklinesSpots,{size:1})]})]})},At=function(){var t=Object(c.useState)(null),e=Object(P.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(P.a)(a,2),o=s[0],i=s[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(b.a)(h.a.mark((function t(){var e,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,gt.getMarketPrice();case 3:e=t.sent,r(e),n=e.values.map((function(t){return t.y})),i(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),n&&o&&Object(l.jsxs)("div",{className:"statistic-page",children:[Object(l.jsx)("h1",{children:"Statistic page:"}),Object(l.jsx)(Pt,{title:n.name,description:n.description,data:o,color:"red"})]})},Rt=(n(151),function(t){var e=t.history;return Object(l.jsxs)("div",{className:"user-details",children:[Object(l.jsx)("h1",{children:"Hello, Stranger"}),Object(l.jsx)("button",{onClick:function(){return e.push("/signup")},children:"Login/SignUp"})]})}),Bt=function(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{className:"App main-layout",children:[Object(l.jsx)(Q,{}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{component:dt,path:"/contact/edit/:id?"}),Object(l.jsx)(u.a,{component:pt,path:"/contact/:id"}),Object(l.jsx)(u.a,{component:xt,path:"/contact"}),Object(l.jsx)(u.a,{component:Rt,path:"/user"}),Object(l.jsx)(u.a,{component:At,path:"/statistic"}),Object(l.jsx)(u.a,{component:Ut,path:"/signup"}),Object(l.jsx)(u.a,{component:Ft,path:"/"})]}),Object(l.jsx)(p,{})]})})},qt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,217)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))},zt=n(57),Mt=n(25),Gt={contacts:[],currContact:null};var Ht={user:null},Wt=n(102),Jt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||zt.c,Vt=Object(zt.b)({contactReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CONTACTS":return Object(ht.a)(Object(ht.a)({},t),{},{contacts:e.contacts});case"SET_CONTACT":return Object(ht.a)(Object(ht.a)({},t),{},{currContact:e.contact});case"ADD_CONTACT":return Object(ht.a)(Object(ht.a)({},t),{},{contacts:[].concat(Object(Mt.a)(t.contacts),[e.contact])});case"REMOVE_CONTACT":return Object(ht.a)(Object(ht.a)({},t),{},{contacts:t.contacts.filter((function(t){return t._id!==e.contactId}))});case"UPDATE_CONTACT":var n=e.updatedContact;return Object(ht.a)(Object(ht.a)({},t),{},{contacts:t.contacts.map((function(t){return t._id===n._id?n:t}))});default:return t}},userReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,e=arguments.length>1?arguments[1]:void 0;switch(console.log(e),e.type){case"SET_USER":return Object(ht.a)(Object(ht.a)({},t),{},{user:e.user});case"LOGOUT":return Object(ht.a)(Object(ht.a)({},t),{},{user:null});default:return t}}}),Xt=Object(zt.d)(Vt,Jt(Object(zt.a)(Wt.a)));n(152);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(o.a,{store:Xt,children:Object(l.jsx)(Bt,{})})}),document.getElementById("root")),qt()}},[[153,1,2]]]);
//# sourceMappingURL=main.b32b24bf.chunk.js.map