(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(t,e,n){},155:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(30),s=n.n(a),i=n(17),o=n(66),u=n(16),l=n(1);function j(t){var e=t.onClick,n=t.Icon,c=t.children,r=t.className;return Object(l.jsxs)("button",{className:r,onClick:e,children:[Object(l.jsx)(n,{}),c]})}var p=n.p+"static/media/users.2e1249bc.png",b=n.p+"static/media/back.00987031.png",d=n(6),f=n(221),h=n(222),m=n(208),O=n.p+"static/media/bitcoin.2d4930d3.gif",g=n(213),x=n.p+"static/media/plus.3463e9e3.png",v={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"#B8C0C6",border:"2px solid #000",boxShadow:24,p:4,overflow:"auto",maxHeight:"80vh"},C=function(t){var e=t.contacts,n=Object(u.f)(),r=c.useState(!1),a=Object(d.a)(r,2),s=a[0],i=a[1],o=function(){return i(!1)},p={display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",border:"1px solid black",padding:"10px",bgcolor:"#CEF6FF",cursor:"pointer",borderRadius:"10px"};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{onClick:function(){return i(!0)},Icon:function(){return Object(l.jsx)("img",{src:O,alt:""})},className:"bitcoin-gif"}),Object(l.jsx)(m.a,{open:s,onClose:o,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(f.a,{sx:v,children:e.length?Object(l.jsxs)(f.a,{children:[Object(l.jsx)(h.a,{variant:"h2",children:"Select Contact"}),e.map((function(t){return Object(l.jsxs)(f.a,{sx:p,onClick:function(){return e=t._id,o(),void n.push("/contact/".concat(e));var e},children:[Object(l.jsx)(g.a,{alt:"",src:t.contactImg}),Object(l.jsx)(h.a,{children:t.contactName})]},t._id)}))]}):Object(l.jsxs)(f.a,{className:"no-contacts",children:[Object(l.jsx)(h.a,{variant:"h2",children:"Add Contact..."}),Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:x,alt:""})},onClick:function(){o(),n.push("/contact/edit")},className:"add-contact-btn"})]})})})]})},A=n(5),w=n.n(A),y=n(11),N=n(49),E=n.n(N),S="/api/",T=E.a.create({withCredentials:!0}),k=function(t,e){return D(t,"GET",e)},I=function(t,e){return D(t,"POST",e)},R=function(t,e){return D(t,"PUT",e)},B=function(t,e){return D(t,"DELETE",e)};function D(t){return U.apply(this,arguments)}function U(){return U=Object(y.a)(w.a.mark((function t(e){var n,c,r,a=arguments;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",c=a.length>2&&void 0!==a[2]?a[2]:null,t.prev=2,t.next=5,T({url:"".concat(S).concat(e),method:n,data:c,params:"GET"===n?c:null});case 5:return r=t.sent,t.abrupt("return",r.data);case 9:throw t.prev=9,t.t0=t.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(c)),console.dir(t.t0),t.t0.response&&t.t0.response.status,t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),U.apply(this,arguments)}var F={getContacts:function(){return k("contact")},deleteContact:function(t){return L.apply(this,arguments)},saveContact:function(t){return z.apply(this,arguments)},getEmptyContact:function(){return{contactName:"",contactEmail:"",contactPhone:"",contactImg:""}},getContactById:function(t){return k("contact/".concat(t))}},P="contact/";function L(){return(L=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B(P+e,e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("cant delete contact ".concat(e),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function z(){return(z=Object(y.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e._id){t.next=7;break}return t.next=4,R(P+e._id,e);case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,I(P,e);case 9:n=t.sent;case 10:return t.abrupt("return",n);case 13:t.prev=13,t.t0=t.catch(0),console.log("cant save contact ".concat(e),t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function G(t){return function(){var e=Object(y.a)(w.a.mark((function e(n){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getContactById(t);case 2:c=e.sent,n({type:"SET_CONTACT",contact:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function J(t,e){return function(n){n({type:"EDIT_CONTACT",field:t,value:e})}}var M=function(){var t=Object(i.c)((function(t){return t.userReducer.user})),e=Object(i.c)((function(t){return t.contactReducer.contacts})),n=Object(u.f)(),r=Object(i.b)();Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.contactsLength)&&r(function(){var t=Object(y.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F.getContacts();case 2:n=t.sent,e({type:"SET_CONTACTS",contacts:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[null===t||void 0===t?void 0:t.contactsLength,r]);return t&&Object(l.jsxs)("div",{className:"app-footer",children:[Object(l.jsx)(j,{className:"go-back-btn",Icon:function(){return Object(l.jsx)("img",{src:b,alt:""})},onClick:function(){n.goBack()}}),Object(l.jsx)(C,{contacts:e}),Object(l.jsx)(j,{className:"contacts-btn",Icon:function(){return Object(l.jsx)("img",{src:p,alt:""})},onClick:function(){n.push("/contact")}})]})},Q={getUsers:function(){return k("user")},getById:function(t){return k("user/".concat(t))},remove:function(t){return B("user/".concat(t))},update:function(t){return q.apply(this,arguments)},login:function(t){return H.apply(this,arguments)},signup:function(t){return Y.apply(this,arguments)},logout:function(){return X.apply(this,arguments)},getLoggedInUser:function(){return W.apply(this,arguments)},isSigned:function(t){return Z.apply(this,arguments)}};function q(){return(q=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R("user/".concat(e._id),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(){return(H=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I("auth/login",e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function Y(){return(Y=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I("auth/signup",e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("service",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function X(){return(X=Object(y.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I("auth/logout");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function W(){return(W=Object(y.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("user/loggedInUser");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function Z(){return(Z=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("user/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}window.userService=Q;var V=function(){return function(){var t=Object(y.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.getLoggedInUser();case 2:n=t.sent,e({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},K=n(210),_=n(211),$=n(205),tt=n(223),et=n(207),nt=n(103),ct=n.n(nt),rt=n(104),at=n.n(rt),st=function(t){var e=t.fullname,n=t.logout,r=t.history,a=t.balance,s=c.useState(null),i=Object(d.a)(s,2),o=i[0],u=i[1],j=Boolean(o),p=function(){u(null)},b=a?"amount-plus":"amount-minus";return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[e&&Object(l.jsxs)("div",{className:"details-header",children:[Object(l.jsxs)(h.a,{children:["Welcome, ",Object(l.jsx)("span",{className:"header-fullname",children:e})]}),Object(l.jsxs)(h.a,{children:["Balance:"," ",Object(l.jsx)("span",{className:b,children:a>0?a.toFixed(2):0})," ","\u20bf"]})]}),Object(l.jsx)(et.a,{title:"Profile",children:Object(l.jsx)(tt.a,{onClick:function(t){u(t.currentTarget)},size:"small",sx:{ml:2},children:e?Object(l.jsx)(g.a,{alt:e,src:e.img}):Object(l.jsx)(g.a,{})})})]}),Object(l.jsxs)(K.a,{anchorEl:o,open:j,onClose:p,onClick:p,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e&&Object(l.jsxs)(_.a,{onClick:function(){return r.push("/user")},children:[Object(l.jsx)(g.a,{}),"Profile"]}),e&&Object(l.jsxs)(_.a,{onClick:n,children:[Object(l.jsx)($.a,{children:Object(l.jsx)(ct.a,{fontSize:"small"})}),"Logout"]}),!e&&Object(l.jsxs)(_.a,{onClick:function(){return r.push("/signup/login")},children:[Object(l.jsx)($.a,{children:Object(l.jsx)(at.a,{fontSize:"small"})}),"Login"]}),!e&&Object(l.jsx)(_.a,{onClick:function(){return r.push("/signup")},children:"SignUp"})]})]})},it=function(){var t=Object(i.c)((function(t){return t.userReducer.user})),e=Object(u.f)(),n=Object(i.b)();return Object(c.useEffect)((function(){t||n(V())}),[n,t,null===t||void 0===t?void 0:t.coins]),Object(l.jsxs)("header",{className:"app-header full",children:[Object(l.jsx)("div",{className:"app-logo",onClick:function(){return e.push("/")},children:Object(l.jsx)("img",{src:"data:image/png;base64,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",alt:""})}),Object(l.jsx)(st,{fullname:null===t||void 0===t?void 0:t.fullname,balance:null===t||void 0===t?void 0:t.coins,logout:function(){n(function(){var t=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q.logout();case 2:e({type:"LOGOUT"}),e({type:"CLEAR_TRANSFERS"}),e({type:"CLEAR_CONTACTS"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){e.push("/")}))},history:e})]})},ot=n.p+"static/media/send.92500005.png",ut=function(t){var e=t.onTransactionCoins,n=Object(c.useState)(0),r=Object(d.a)(n,2),a=r[0],s=r[1],i=function(t){e(a,t)};return Object(l.jsx)("section",{className:"transaction-fund",children:Object(l.jsxs)("form",{onSubmit:i,children:[Object(l.jsx)("label",{htmlFor:"amount",children:"Transaction amount"}),Object(l.jsx)("input",{required:!0,placeholder:"Amount",min:"0",id:"amount",type:"number",onChange:function(t){var e=t.target,n="number"===e.type?+e.value:e.value;s(n)},name:"amount",step:"0.01"}),Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:ot,alt:""})},onClick:i,className:"send-coin-btn"})]})})},lt={addTransaction:function(t,e,n){return jt.apply(this,arguments)},getTransactions:function(){return pt.apply(this,arguments)},getTransactionsByContactId:function(t){return bt.apply(this,arguments)}};function jt(){return(jt=Object(y.a)(w.a.mark((function t(e,n,c){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I("transaction/",{contactEmail:e,transactionAmount:n,loggedUserEmail:c});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pt(){return(pt=Object(y.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("transaction/");case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function bt(){return(bt=Object(y.a)(w.a.mark((function t(e){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("transaction/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}var dt=function(){return function(){var t=Object(y.a)(w.a.mark((function t(e){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt.getTransactions();case 2:(n=t.sent)||(n=null),e({type:"SET_TRANSFERS",transactions:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ft=n.p+"static/media/contact.42200432.png",ht=n(216),mt=n(220),Ot=n(219),gt=n(215),xt=n(217),vt=n(218),Ct=n(214),At=function(t){var e=t.rows,n=t.title,c=Object(i.c)((function(t){return t.userReducer.user}));return Object(l.jsxs)(gt.a,{component:Ct.a,children:[Object(l.jsx)(h.a,{variant:"h4",children:n}),Object(l.jsxs)(ht.a,{sx:{minWidth:650},"aria-label":"sticky table",children:[Object(l.jsx)(xt.a,{children:Object(l.jsxs)(vt.a,{hover:!0,role:"checkbox",children:[Object(l.jsx)(Ot.a,{children:"Date"}),Object(l.jsx)(Ot.a,{children:"From"}),Object(l.jsx)(Ot.a,{children:"To"}),Object(l.jsx)(Ot.a,{children:"Amount"}),Object(l.jsx)(Ot.a,{children:"Balance"})]})}),Object(l.jsx)(mt.a,{children:e.map((function(t){var e,n;return Object(l.jsxs)(vt.a,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(Ot.a,{children:new Date(t.createdAt).toLocaleDateString()}),t.from===c.email?Object(l.jsx)(Ot.a,{children:c.fullname}):Object(l.jsx)(Ot.a,{children:t.from}),t.to===c.email?Object(l.jsx)(Ot.a,{children:c.fullname}):Object(l.jsx)(Ot.a,{children:t.to}),Object(l.jsx)(Ot.a,{className:c.email===t.to?"amount-plus":"amount-minus",children:c.email===t.to?"+".concat(t.transactionAmount):"-".concat(t.transactionAmount)}),t.from===c.email?Object(l.jsx)(Ot.a,{children:null===(e=t.fromBalance)||void 0===e?void 0:e.toFixed(2)}):Object(l.jsx)(Ot.a,{children:null===(n=t.toBalance)||void 0===n?void 0:n.toFixed(2)})]},t._id)}))})]})]})},wt=n.p+"static/media/edit.b0c1b178.png",yt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAFIElEQVR4nO2bTWxVRRTHfxYeVmyND+PKtiKlQEwUAvhR2tT6sXCjyIaouC5GbUyURFAXbN2aiHEpfiE7UWMMMaZqJSIfsgGkr4ro2oJ9RbDYujj3cs9ML7fv3TszvEr/yUvmZWbO+c/cOTNnZs7APOZxTeO6ADoWAuuBDcBKoAtoB1qBxVGZ88A4cAaoACeB74HDwKUAHJ2jBdgCfApUgemcv3FgH/B0JLPhsRx4G5ggf6Ov9KsCu4BOl4RdmUA78AawGViQkv8z8A0ypCvAaeBPpFEgX3cJsBQxkXVAH7AiRda/wB5gO/CHI/65sQh4jfQvfgR4GemcvOgAtgFHU+RXgVeBUgH5hXA7MlFpUlOI3T/iQV8vsBeZFLXOHxHTC4pNwDmLyEHg3gC670carXWfBZ4IoBuAZzG/wt/AC0BTKAKRrsFId8zjErDVt+IdmD1/HLjLt9IMrEZ8Bs1phy9lWy1FB4BbfCmrA2VgCJPboGslmzCH/T6g2bWSAmhGOGlz2OhKeCfmhDdEYzU+RjPia+iJ8Y6iQhdhzrjHgZuLCvWIMnCChO8PFPQTXlfCznN1J7xasRpzdcg9KXZgenjPuWAXCIOYG6q2PEI+whxKIdf5omgCDpHwf69eAV0ks/4UYTw81+hGuMerwrJ6Kr9D0nufOKcWDp+TtOOtWiu1Ytp+rxdqstX9BRhFRpwPPIC5e7yxlkrPqEpHPRED2cp6d1+BY0rPk3Zm2sSmC33oiRSIjxHjeo969qj0rB1QAvrV/70+GAWGbsODyCHtZdgdsJ7ETirAb/54BcMoSTtuAtboTLsDulX6W4+kQmNIpXt0ht0Bq1T6iDc64aEn85U6w+4AvRyNeKMTHrotxpJrd4D2mU97oxMev6q0cUq90Cqob1/OFVC4AjmQyNo/9FjpVzLKTiEe6amcfM6qdGtWwXESpyGz4CwYVXJc/SoF+LQqOX/pjLm0w/MC2wSqJGbQgoyIPHgU8bqyfO9eEjMYBr7LKDuB6dHVCz2aM9s0QjJUVmUVdICdStdOz7ruVLpO6gzbBH5X6br2zw0O3ZYzOsPugCuul3Mc+u7QmEztDtDDY503OuGxVqUzTeCASvfz/0GfSg/rDLsDDiMzLojHFPza2QOWI1f5ID7ATzrT7oBJ4Gv1f8YBwhzEZpX+CokwuYw0R0ivt0/5YBThH5W+6FGP/ogf11KhBfNQ9GEPpED2C5Xo52vF6ce8IFmcXTzBLlXxSy/UwuALkna8WU/FTszr8L7s4g2JHpKLkUly3BR/QNIBx0gPf2tULEBWtJj/u3mEtGNGeW5zxS4AXsS0/dvyCtKXFxeBe1yw84w1wAUS3lkHLbOihNwMx8JGgVsLEvSJJUhUqo5jKhxIuQw5UtKBiY0YuHwDcpQf8xzDQYhMjI2Yq8J+arxoDIS0IKnHXCsZUAriyNBGMIcyZnDUNBK46QV2oOQI5lYzNO7GDIryfdMMSMCkNocLyLITOlT2eWaGyg6EIvA45sQ4jcTkdGdVcoT7EPPTusfwYPOzoQM5XLDP7/djXUA6wlpgNzPD5Q/i+BVJPSghzlLau6BDwEvkDFGL0BbJsMPjYw9vO1fxwYRGG/A+M79O/DuBBF4NAA8hT2PKiC03RemlUd5AVNae3LSt76aAe+sTnfh7NDWBbNPnxHF9CxJs9RnFns1VEQdnC568zxAPJ0vIJmoDctvUhZhMGWlU/HXHkFdgpxB/fhiZRyYDcJzHPK5V/AcZyuFxZOEzXgAAAABJRU5ErkJggg==",Nt=n.p+"static/media/minus.fdcf7131.png",Et=n.p+"static/media/loading.06b4e460.gif",St=function(t){var e=Object(i.c)((function(t){return t.userReducer.user})),n=Object(i.c)((function(t){return t.transactionReducer.transactions})),r=Object(i.c)((function(t){return t.contactReducer.currContact})),a=Object(c.useState)(null),s=Object(d.a)(a,2),o=s[0],u=s[1],p=Object(c.useState)(null),b=Object(d.a)(p,2),f=b[0],h=b[1],m=Object(c.useState)(!1),O=Object(d.a)(m,2),g=O[0],x=O[1],v=Object(c.useState)(!1),C=Object(d.a)(v,2),A=C[0],N=C[1],E=Object(i.b)(),S=g?Nt:yt;Object(c.useEffect)((function(){var e=t.match.params.id;return E(G(e)),function(){E((function(t){t({type:"CLEAN_CONTACT"})}))}}),[t.match.params,E]),Object(c.useEffect)((function(){r&&E(dt())}),[r,E]),Object(c.useEffect)((function(){if(r&&n){var t=n.filter((function(t){return r.contactEmail===t.to||r.contactEmail===t.from}));t.length&&(h(t),u(g?t:t.slice(0,3)))}}),[g,n,r]);return r?Object(l.jsxs)("div",{className:"contact-details-page",children:[Object(l.jsxs)("div",{className:"contact-details",children:[Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:wt,alt:""})},onClick:function(){t.history.push("/contact/edit/".concat(r._id))},className:"edit-logo"}),Object(l.jsx)("div",{className:"contact-img-details",children:r.contactImg?Object(l.jsx)("img",{src:r.contactImg,alt:"",className:"contact-img"}):Object(l.jsx)("img",{src:ft,alt:"",className:"contact-img"})}),Object(l.jsxs)("p",{children:["Name: ",r.contactName]}),Object(l.jsxs)("p",{children:["Email: ",r.contactEmail]}),Object(l.jsxs)("p",{children:["Phone: ",r.contactPhone]})]}),A?Object(l.jsx)("img",{className:"loading-transaction",src:Et,alt:""}):Object(l.jsx)(ut,{contact:r,onTransactionCoins:function(n,c){if(N(!0),c.preventDefault(),e.coins<n)return alert("No enough money");E(function(t,e,n){return function(){var c=Object(y.a)(w.a.mark((function c(r){var a;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lt.addTransaction(t,e,n);case 2:a=c.sent,r({type:"ADD_TRANSFER",transaction:a});case 4:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()}(r.contactEmail,n,e.email)).then((function(){E(V()),N(!1),t.history.push("/contact")}))}}),f&&Object(l.jsxs)("div",{className:"transactions-by-contact",children:[f.length>3&&Object(l.jsx)(j,{onClick:function(){return x((function(t){return!t}))},Icon:function(){return Object(l.jsx)("img",{src:S,alt:""})},className:"more-less-btn"}),Object(l.jsx)(At,{title:"Transaction with contact",rows:o})]})]}):Object(l.jsx)("div",{children:"Contact not found..."})},Tt=function(){var t=Object(y.a)(w.a.mark((function t(e){var n,c,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"mister-bitcoin-present","mister-bitcoin",n="https://api.cloudinary.com/v1_1/".concat("mister-bitcoin","/image/upload"),(c=new FormData).append("file",e.target.files[0]),c.append("upload_preset","mister-bitcoin-present"),t.prev=6,t.next=9,E.a.post(n,c);case 9:return r=t.sent,t.abrupt("return",r.data);case 13:t.prev=13,t.t0=t.catch(6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),kt=n.p+"static/media/add-contact.1f6972cf.png",It=n.p+"static/media/upload.0a143b40.png",Rt=function(t){var e=Object(i.c)((function(t){return t.contactReducer.currContact})),n=Object(c.useState)(!1),r=Object(d.a)(n,2),a=r[0],s=r[1],o=Object(i.b)();Object(c.useEffect)((function(){var n=t.match.params.id;e||o(n?G(n):function(t){t({type:"SET_CONTACT",contact:F.getEmptyContact()})})}),[o,t.match.params,e]),Object(c.useEffect)((function(){return function(){o((function(t){t({type:"CLEAN_CONTACT"})}))}}),[o]);var u=function(){var t=Object(y.a)(w.a.mark((function t(e){var n,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.target.name,"file"!==e.target.type){t.next=9;break}return s(!0),t.next=5,Tt(e);case 5:c=t.sent.url,s(!1),t.next=10;break;case 9:c="number"===e.target.type?+e.target.value:e.target.value;case 10:o(J(n,c));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(n){n.preventDefault(),o(function(t){return function(){var e=Object(y.a)(w.a.mark((function e(n){var c,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!t._id,e.next=3,F.saveContact(t);case 3:r=e.sent,n(c?{type:"ADD_CONTACT",updatedContact:r}:{type:"UPDATE_CONTACT",updatedContact:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e)).then((function(){t.history.push("/contact")}))};return e?Object(l.jsx)("div",{className:"contact-edit",children:Object(l.jsxs)("form",{onSubmit:p,children:[Object(l.jsxs)("div",{className:"contact-name",children:[Object(l.jsx)("label",{htmlFor:"contactName",children:"Fullname"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactName",value:e.contactName,onChange:u,name:"contactName"})]}),Object(l.jsxs)("div",{className:"contact-email",children:[Object(l.jsx)("label",{htmlFor:"contactEmail",children:"Email Address"}),Object(l.jsx)("input",{required:!0,type:"email",id:"contactEmail",value:e.contactEmail,onChange:u,name:"contactEmail"})]}),Object(l.jsxs)("div",{className:"contact-phone",children:[Object(l.jsx)("label",{htmlFor:"contactPhone",children:"Phone Number"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactPhone",value:e.contactPhone,onChange:u,name:"contactPhone"})]}),Object(l.jsxs)("div",{className:"contact-img",children:[Object(l.jsx)("label",{htmlFor:"contactImg",children:Object(l.jsx)("img",{src:It,alt:""})}),a?Object(l.jsx)("img",{src:Et,alt:""}):Object(l.jsx)("label",{htmlFor:"contactImg",children:Object(l.jsx)("img",{src:e.contactImg,alt:""})}),Object(l.jsx)("input",{hidden:!0,type:"file",id:"contactImg",onChange:u,name:"contactImg"})]}),Object(l.jsx)("div",{className:"actions-btn",children:Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:kt,alt:""})},onClick:p,className:"add-contact-btn"})})]})}):Object(l.jsx)("h1",{children:"Contact not found"})},Bt=function(t){return Object(l.jsxs)("form",{className:"contact-filter",onSubmit:function(t){return t.preventDefault()},children:[Object(l.jsx)("label",{htmlFor:"term",children:"Search contact"}),Object(l.jsx)("input",{type:"text",id:"term",name:"term",onChange:function(e){var n=e.target;t.onChangeFilter(n.value)},placeholder:"Search..."})]})},Dt=function(t){var e=t.contact;return Object(l.jsx)(o.b,{to:"/contact/".concat(e._id),children:Object(l.jsxs)("div",{className:"contact-preview",children:[e.contactImg?Object(l.jsx)("img",{src:e.contactImg,alt:""}):Object(l.jsx)("img",{src:ft,alt:""}),Object(l.jsx)("p",{children:e.contactName}),Object(l.jsx)("p",{children:e.contactEmail}),Object(l.jsx)("p",{children:e.contactPhone})]})})},Ut=function(t){var e=t.contacts;return Object(l.jsx)("ul",{className:"contact-list",children:e.map((function(t){return Object(l.jsx)("li",{children:Object(l.jsx)(Dt,{contact:t})},t._id)}))})},Ft=function(t){var e=t.history,n=Object(i.c)((function(t){return t.contactReducer.contacts})),r=Object(c.useState)(null),a=Object(d.a)(r,2),s=a[0],o=a[1],u=Object(c.useState)(null),p=Object(d.a)(u,2),b=p[0],f=p[1],h=Object(i.b)();Object(c.useEffect)((function(){if(n)if(s){var t=n.filter((function(t){return t.contactEmail.toLowerCase().includes(s.toLowerCase())||t.contactName.toLowerCase().includes(s.toLowerCase())||t.contactPhone.toLowerCase().includes(s.toLowerCase())}));f(t)}else f(n)}),[h,s,n]);return Object(l.jsxs)("div",{className:"contact-page",children:[Object(l.jsxs)("div",{className:"contact-header",children:[Object(l.jsx)(Bt,{onChangeFilter:function(t){o(t)}}),Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:x,alt:""})},onClick:function(){e.push("/contact/edit")},className:"add-contact-btn"})]}),(null===b||void 0===b?void 0:b.length)?Object(l.jsx)(Ut,{contacts:b}):Object(l.jsx)("h1",{children:"No contacts..."})]})},Pt=n(49),Lt={getRate:function(){return zt.apply(this,arguments)},getMarketPrice:function(){return Gt.apply(this,arguments)},getConfirmedTransactions:function(){return Jt.apply(this,arguments)}};function zt(){return(zt=Object(y.a)(w.a.mark((function t(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.get("https://blockchain.info/tobtc?currency=USD&value=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Gt(){return(Gt=Object(y.a)(w.a.mark((function t(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Jt(){return(Jt=Object(y.a)(w.a.mark((function t(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Pt.get("https://blockchain.info/tobtc?currency=USD&value=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var Mt=n(15),Qt=n(109),qt=n(105),Ht=n(212),Yt=n(206),Xt=["children"],Wt=c.forwardRef((function(t,e){var n=t.children,c=Object(Qt.a)(t,Xt);return Object(l.jsxs)("svg",Object(Mt.a)(Object(Mt.a)({width:"150",height:"50"},c),{},{ref:e,children:[Object(l.jsx)("polygon",{points:"0,50 0,0 150,0 150,50",className:"bg"}),Object(l.jsx)("polygon",{points:"0,50 0,0 150,0 150,50",className:"borderEffect"}),Object(l.jsx)("foreignObject",{x:"0",y:"0",width:"150",height:"50",children:Object(l.jsx)("div",{className:"content",children:n})})]}))})),Zt=Object(Yt.a)(Wt)((function(t){var e=t.theme;return"\n  overflow: visible;\n  cursor: pointer;\n  --main-color: ".concat("light"===e.palette.mode?"rgb(25,118,210)":"rgb(144,202,249)",";\n  --hover-color: ").concat("light"===e.palette.mode?"rgba(25,118,210,0.04)":"rgba(144,202,249,0.08)",";\n  --active-color: ").concat("light"===e.palette.mode?"rgba(25,118,210,0.12)":"rgba(144,202,249,0.24)",";\n\n  & polygon {\n    fill: transparent;\n    transition: all 800ms ease;\n    pointer-events: none;\n  }\n  \n  & .bg {\n    stroke: var(--main-color);\n    stroke-width: 0.5;\n    filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.1));\n    fill: transparent;\n  }\n\n  & .borderEffect {\n    stroke: var(--main-color);\n    stroke-width: 2;\n    stroke-dasharray: 150 600;\n    stroke-dashoffset: 150;\n    fill: transparent;\n  }\n\n  &:hover,\n  &.").concat(qt.a.focusVisible," {\n    .borderEffect {\n      stroke-dashoffset: -600;\n    }\n\n    .bg {\n      fill: var(--hover-color);\n    }\n  }\n\n  &:focus,\n  &.").concat(qt.a.focusVisible," {\n    outline: none;\n  }\n\n  &.").concat(qt.a.active," { \n    & .bg {\n      fill: var(--active-color);\n      transition: fill 300ms ease-out;\n    }\n  }\n\n  & foreignObject {\n    pointer-events: none;\n\n    & .content {\n      font-family: Helvetica, Inter, Arial, sans-serif;\n      font-size: 14px;\n      font-weight: 200;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: var(--main-color);\n      text-transform: uppercase;\n    }\n\n    & svg {\n      margin: 0 5px;\n    }\n  }")})),Vt=c.forwardRef((function(t,e){return Object(l.jsx)(Ht.a,Object(Mt.a)(Object(Mt.a)({},t),{},{component:Zt,ref:e}))})),Kt=function(){var t=Object(u.f)();return Object(l.jsx)(Vt,{onClick:function(){return t.push("/signup")},children:"Register Now"})},_t=function(t){var e=t.history,n=Object(i.c)((function(t){return t.userReducer.user})),r=Object(i.c)((function(t){return t.transactionReducer.transactions})),a=Object(c.useState)(null),s=Object(d.a)(a,2),o=s[0],u=s[1],p=Object(c.useState)(!1),b=Object(d.a)(p,2),f=b[0],h=b[1],m=Object(c.useState)(0),O=Object(d.a)(m,2),g=O[0],x=O[1],v=Object(i.b)(),C=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(1/g),A=(null===n||void 0===n?void 0:n.coins)||Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(1/g*(null===n||void 0===n?void 0:n.coins));Object(c.useEffect)((function(){n&&v(dt())}),[v,n]),Object(c.useEffect)((function(){var t=function(){var t=Object(y.a)(w.a.mark((function t(){var e;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lt.getRate();case 2:e=t.sent,x(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n&&!g&&t()}),[g,n]),Object(c.useEffect)((function(){(null===r||void 0===r?void 0:r.length)&&u(f?r:null===r||void 0===r?void 0:r.slice(0,3))}),[f,r]);var N=f?Nt:yt,E=f||(null===r||void 0===r?void 0:r.length)<=3?"All Transaction":"Recent Transaction",S=(null===n||void 0===n?void 0:n.coins)?"amount-plus":"amount-minus";return n?Object(l.jsxs)("div",{className:"home-page logged-user",children:[Object(l.jsxs)("div",{className:"user-balance",children:[Object(l.jsx)("h4",{children:"Wallet Balance:"}),Object(l.jsx)("h2",{className:S,children:A}),Object(l.jsxs)("h3",{children:["You have"," ",Object(l.jsx)("span",{className:S,children:n.coins.toFixed(2)})," ","bitcoins"]}),Object(l.jsxs)("h4",{children:["1 Bitcoin: ",C]})]}),o&&Object(l.jsxs)("div",{className:"transactions-table",children:[(null===r||void 0===r?void 0:r.length)>3&&Object(l.jsx)(j,{onClick:function(){return h((function(t){return!t}))},Icon:function(){return Object(l.jsx)("img",{src:N,alt:""})},className:"more-less-btn"}),Object(l.jsx)(At,{title:E,rows:o})]})]}):Object(l.jsx)("div",{className:"home-page guest",children:Object(l.jsxs)("div",{className:"guest-welcome",children:[Object(l.jsx)("h1",{children:"Welcome to Mister Bitcoin"}),Object(l.jsx)("h3",{children:"Demo bitcoin wallet"}),Object(l.jsx)(Kt,{}),Object(l.jsxs)("p",{onClick:function(){return e.push("/signup/login")},children:["Already registered? ",Object(l.jsx)("span",{className:"login-btn",children:"login"})]})]})})},$t=function(){var t=Object(c.useState)(null),e=Object(d.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(d.a)(a,2),o=s[0],j=s[1],p=Object(c.useState)(null),b=Object(d.a)(p,2),f=b[0],h=b[1],m=Object(c.useState)(!1),O=Object(d.a)(m,2),g=O[0],x=O[1],v=Object(i.b)(),C=Object(u.f)();return g?Object(l.jsx)("img",{className:"login-loading",src:Et,alt:""}):Object(l.jsx)("div",{className:"login",children:Object(l.jsxs)("form",{className:"login-form",onSubmit:function(t){x(!0),t.preventDefault();var e=t.target.querySelector("#login-email").value,n=t.target.querySelector("#login-password").value;v(function(t){return function(){var e=Object(y.a)(w.a.mark((function e(n){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.login(t);case 3:c=e.sent,n({type:"SET_USER",user:c}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}({email:e,password:n})).then((function(){C.push("/")})).catch((function(t){var e,n,c;x(!1),j(null===(e=t.response)||void 0===e?void 0:e.data),setTimeout((function(){j(null)}),2e3),"Invalid email"===(null===(n=t.response)||void 0===n?void 0:n.data)&&(r("error-input"),setTimeout((function(){r(null)}),2e3)),"Invalid password"===(null===(c=t.response)||void 0===c?void 0:c.data)&&(h("error-input"),setTimeout((function(){h(null)}),2e3))}))},children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsx)("label",{htmlFor:"login-email",children:"Email"}),"Invalid email"===o&&Object(l.jsx)("p",{className:"err-msg",children:o}),Object(l.jsx)("input",{className:n,required:!0,type:"email",id:"login-email",name:"login-email",placeholder:"Ex.. israeli2021@gmail.com"}),Object(l.jsx)("label",{htmlFor:"login-password",children:"Password"}),"Invalid password"===o&&Object(l.jsx)("p",{className:"err-msg",children:o}),Object(l.jsx)("input",{className:f,required:!0,type:"password",id:"login-password",name:"login-password",placeholder:"Ex.. !#@fdsf54%"}),Object(l.jsx)("button",{children:"Login"}),Object(l.jsx)("p",{onClick:function(){return C.push("/signup")},children:"Register now"})]})})},te=function(){var t=Object(c.useState)(null),e=Object(d.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(d.a)(a,2),o=s[0],j=s[1],p=Object(i.b)(),b=Object(u.f)(),f=function(){var t=Object(y.a)(w.a.mark((function t(e){var n,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.value,t.next=3,Q.isSigned(n);case 3:(c=t.sent)?(r(c),j("signup-btn-is-email")):(r(null),j(null));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.querySelector("#signup-fullname").value,n=t.target.querySelector("#signup-password").value,c=t.target.querySelector("#signup-email").value,r=t.target.querySelector("#signup-phone").value;p(function(t){return function(){var e=Object(y.a)(w.a.mark((function e(n){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.signup(t);case 3:c=e.sent,n({type:"SET_USER",user:c}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}({fullname:e,password:n,email:c,phone:r})).then((function(){b.push("/")})).catch((function(t){console.log(t.response.data)}))},children:[Object(l.jsx)("h1",{children:"Signup"}),Object(l.jsx)("label",{htmlFor:"signup-fullname",children:"Full name"}),Object(l.jsx)("input",{required:!0,type:"text",id:"signup-fullname",name:"signup-fullname",placeholder:"Ex.. Israel Israeli"}),Object(l.jsx)("label",{htmlFor:"signup-password",children:"Password"}),Object(l.jsx)("input",{required:!0,type:"password",id:"signup-password",name:"signup-password",placeholder:"Ex.. !#@fdsf54%"}),Object(l.jsx)("label",{htmlFor:"signup-email",children:"Email"}),n&&Object(l.jsx)("p",{className:"err-msg",children:"Already registered"}),Object(l.jsx)("input",{required:!0,type:"signup-email",id:"signup-email",onChange:f,name:"signup-email",placeholder:"Ex.. israeli2021@gmail.com"}),Object(l.jsx)("label",{htmlFor:"signup-phone",children:"Phone number"}),Object(l.jsx)("input",{required:!0,type:"number",id:"signup-phone",name:"signup-phone",placeholder:"Ex.. 05x-xxxxxxx"}),Object(l.jsx)("button",{disabled:n,className:o,children:"Sign up"}),Object(l.jsx)("p",{onClick:function(){return b.push("/signup/login")},children:"Already registered? login"})]})},ee=function(t){var e=Object(c.useState)("Login"),n=Object(d.a)(e,2),r=n[0],a=n[1];Object(c.useEffect)((function(){var e=t.history.location.pathname;a("/signup/login"===e?"Login":"SignUp")}),[t.history.location]);var s={SignUp:te,Login:$t}[r];return Object(l.jsx)("div",{className:"signup-page",children:Object(l.jsx)(s,{})})},ne=n(69),ce=function(t){t.title;var e=t.data,n=t.description;return Object(l.jsxs)("div",{className:"chart",children:[Object(l.jsx)("h1",{children:n}),Object(l.jsxs)(ne.Sparklines,{data:e,children:[Object(l.jsx)(ne.SparklinesLine,{color:"red"}),Object(l.jsx)(ne.SparklinesSpots,{size:1})]})]})},re=function(){var t=Object(c.useState)(null),e=Object(d.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(d.a)(a,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(y.a)(w.a.mark((function t(){var e,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Lt.getMarketPrice();case 3:e=t.sent,r(e),n=e.values.map((function(t){return t.y})),o(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),n&&i&&Object(l.jsxs)("div",{className:"statistic-page",children:[Object(l.jsx)("h1",{children:"Statistic page:"}),Object(l.jsx)(ce,{title:n.name,description:n.description,data:i,color:"red"})]})},ae=function(){var t=Object(i.c)((function(t){return t.userReducer.user})),e=t.img?t.img:ft;return Object(l.jsx)("div",{className:"user-details-page",children:Object(l.jsxs)("div",{className:"user-details",children:[Object(l.jsx)("img",{src:e,alt:""}),Object(l.jsxs)("p",{children:["Fullname: ",t.fullname]}),Object(l.jsxs)("p",{children:["Phone: ",t.phone]}),Object(l.jsxs)("p",{children:["Email: ",t.email]})]})})},se=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App main-layout",children:[Object(l.jsx)(it,{}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{component:Rt,path:"/contact/edit/:id?"}),Object(l.jsx)(u.a,{component:St,path:"/contact/:id"}),Object(l.jsx)(u.a,{component:Ft,path:"/contact"}),Object(l.jsx)(u.a,{component:ae,path:"/user"}),Object(l.jsx)(u.a,{component:re,path:"/statistic"}),Object(l.jsx)(u.a,{component:ee,path:"/signup"}),Object(l.jsx)(u.a,{component:_t,path:"/"})]}),Object(l.jsx)(M,{})]})})},ie=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))},oe=n(56),ue=n(23),le={transactions:[]};var je={user:null},pe=n(9),be={contacts:[],currContact:null};var de=n(106),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,he=Object(oe.b)({transactionReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TRANSFERS":return Object(Mt.a)(Object(Mt.a)({},t),{},{transactions:e.transactions});case"ADD_TRANSFER":return t.transactions?Object(Mt.a)(Object(Mt.a)({},t),{},{transactions:[].concat(Object(ue.a)(t.transactions),[e.transaction])}):Object(Mt.a)(Object(Mt.a)({},t),{},{transactions:[e.transaction]});case"CLEAR_TRANSFERS":return{transactions:null};default:return t}},userReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,e=arguments.length>1?arguments[1]:void 0;switch(console.log(e),e.type){case"SET_USER":return Object(Mt.a)(Object(Mt.a)({},t),{},{user:e.user});case"LOGOUT":return{user:null};case"SET_BALANCE":return{user:Object(Mt.a)(Object(Mt.a)({},t.user),{},{balance:e.balance})};case"CLEAR_USER_STORE":return{balance:null,fullname:null};default:return t}},contactReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CONTACTS":return Object(Mt.a)(Object(Mt.a)({},t),{},{contacts:e.contacts});case"SET_CONTACT":return Object(Mt.a)(Object(Mt.a)({},t),{},{currContact:e.contact});case"EDIT_CONTACT":return Object(Mt.a)(Object(Mt.a)({},t),{},{currContact:Object(Mt.a)(Object(Mt.a)({},t.currContact),{},Object(pe.a)({},e.field,e.value))});case"ADD_CONTACT":return Object(Mt.a)(Object(Mt.a)({},t),{},{contacts:[].concat(Object(ue.a)(t.contacts),[e.updatedContact])});case"REMOVE_CONTACT":return Object(Mt.a)(Object(Mt.a)({},t),{},{contacts:t.contacts.filter((function(t){return t._id!==e.contactId}))});case"UPDATE_CONTACT":var n=e.updatedContact;return Object(Mt.a)(Object(Mt.a)({},t),{},{contacts:t.contacts.map((function(t){return t._id===n._id?n:t}))});case"CLEAN_CONTACT":return Object(Mt.a)(Object(Mt.a)({},t),{},{currContact:null});case"CLEAR_CONTACTS":return{contacts:[],currContact:null};default:return t}}}),me=Object(oe.d)(he,fe(Object(oe.a)(de.a)));n(154);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{store:me,children:Object(l.jsx)(se,{})})}),document.getElementById("root")),ie()}},[[155,1,2]]]);
//# sourceMappingURL=main.844d0041.chunk.js.map