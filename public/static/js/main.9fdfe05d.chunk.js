(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{154:function(t,e,n){},155:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(30),s=n.n(a),o=n(17),i=n(66),u=n(16),l=n(1);function j(t){var e=t.onClick,n=t.Icon,c=t.children,r=t.className;return Object(l.jsxs)("button",{className:r,onClick:e,children:[Object(l.jsx)(n,{}),c]})}var d=n.p+"static/media/users.2e1249bc.png",p=n.p+"static/media/back.00987031.png",b=n(6),f=n(221),h=n(222),O=n(208),m=n.p+"static/media/bitcoin.2d4930d3.gif",x=n(213),g=n.p+"static/media/plus.3463e9e3.png",v={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"#B8C0C6",border:"2px solid #000",boxShadow:24,p:4,overflow:"auto",maxHeight:"80vh"},A=function(t){var e=t.contacts,n=Object(u.f)(),r=c.useState(!1),a=Object(b.a)(r,2),s=a[0],o=a[1],i=function(){return o(!1)},d={display:"flex",flexDirection:"row",gap:"20px",alignItems:"center",border:"1px solid black",padding:"10px",bgcolor:"#CEF6FF",cursor:"pointer",borderRadius:"10px"};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{onClick:function(){return o(!0)},Icon:function(){return Object(l.jsx)("img",{src:m,alt:""})},className:"bitcoin-gif"}),Object(l.jsx)(O.a,{open:s,onClose:i,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(l.jsx)(f.a,{sx:v,children:e.length?Object(l.jsxs)(f.a,{children:[Object(l.jsx)(h.a,{variant:"h2",children:"Select Contact"}),e.map((function(t){return Object(l.jsxs)(f.a,{sx:d,onClick:function(){return e=t._id,i(),void n.push("/contact/".concat(e));var e},children:[Object(l.jsx)(x.a,{alt:"",src:t.contactImg}),Object(l.jsx)(h.a,{children:t.contactName})]},t._id)}))]}):Object(l.jsxs)(f.a,{className:"no-contacts",children:[Object(l.jsx)(h.a,{variant:"h2",children:"Add Contact..."}),Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:g,alt:""})},onClick:function(){i(),n.push("/contact/edit")},className:"add-contact-btn"})]})})})]})},C=n(5),y=n.n(C),w=n(11),N=n(49),S=n.n(N),E="/api/",T=S.a.create({withCredentials:!0}),R=function(t,e){return D(t,"GET",e)},k=function(t,e){return D(t,"POST",e)},I=function(t,e){return D(t,"PUT",e)},F=function(t,e){return D(t,"DELETE",e)};function D(t){return U.apply(this,arguments)}function U(){return U=Object(w.a)(y.a.mark((function t(e){var n,c,r,a=arguments;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"GET",c=a.length>2&&void 0!==a[2]?a[2]:null,t.prev=2,t.next=5,T({url:"".concat(E).concat(e),method:n,data:c,params:"GET"===n?c:null});case 5:return r=t.sent,t.abrupt("return",r.data);case 9:throw t.prev=9,t.t0=t.catch(2),console.log("Had Issues ".concat(n,"ing to the backend, endpoint: ").concat(e,", with data: ").concat(c)),console.dir(t.t0),t.t0.response&&t.t0.response.status,t.t0;case 15:case"end":return t.stop()}}),t,null,[[2,9]])}))),U.apply(this,arguments)}var P={getContacts:function(){return R("contact")},deleteContact:function(t){return V.apply(this,arguments)},saveContact:function(t){return L.apply(this,arguments)},getEmptyContact:function(){return{contactName:"",contactEmail:"",contactPhone:"",contactImg:""}},getContactById:function(t){return R("contact/".concat(t))}},B="contact/";function V(){return(V=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F(B+e,e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log("cant delete contact ".concat(e),t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function L(){return(L=Object(w.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e._id){t.next=7;break}return t.next=4,I(B+e._id,e);case 4:n=t.sent,t.next=10;break;case 7:return t.next=9,k(B,e);case 9:n=t.sent;case 10:return t.abrupt("return",n);case 13:t.prev=13,t.t0=t.catch(0),console.log("cant save contact ".concat(e),t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function q(t){return function(){var e=Object(w.a)(y.a.mark((function e(n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getContactById(t);case 2:c=e.sent,n({type:"SET_CONTACT",contact:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function H(t,e){return function(n){n({type:"EDIT_CONTACT",field:t,value:e})}}var G=function(){var t=Object(o.c)((function(t){return t.userReducer.user})),e=Object(o.c)((function(t){return t.contactReducer.contacts})),n=Object(u.f)(),r=Object(o.b)();Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.contactsLength)&&r(function(){var t=Object(w.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.getContacts();case 2:n=t.sent,e({type:"SET_CONTACTS",contacts:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[null===t||void 0===t?void 0:t.contactsLength,r]);return t&&Object(l.jsxs)("div",{className:"app-footer",children:[Object(l.jsx)(j,{className:"go-back-btn",Icon:function(){return Object(l.jsx)("img",{src:p,alt:""})},onClick:function(){n.goBack()}}),Object(l.jsx)(A,{contacts:e}),Object(l.jsx)(j,{className:"contacts-btn",Icon:function(){return Object(l.jsx)("img",{src:d,alt:""})},onClick:function(){n.push("/contact")}})]})},z={getUsers:function(){return R("user")},getById:function(t){return R("user/".concat(t))},remove:function(t){return F("user/".concat(t))},update:function(t){return W.apply(this,arguments)},login:function(t){return J.apply(this,arguments)},signup:function(t){return Q.apply(this,arguments)},logout:function(){return M.apply(this,arguments)},getLoggedInUser:function(){return X.apply(this,arguments)},isSigned:function(t){return Y.apply(this,arguments)}};function W(){return(W=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I("user/".concat(e._id),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function J(){return(J=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("auth/login",e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function Q(){return(Q=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("auth/signup",e);case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),console.log("service",t.t0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function M(){return(M=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("auth/logout");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(){return(X=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R("user/loggedInUser");case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),t.t0;case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function Y(){return(Y=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R("user/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0.data);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}window.userService=z;var K=function(){return function(){var t=Object(w.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.getLoggedInUser();case 2:n=t.sent,e({type:"SET_USER",user:n});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Z=n(210),_=n(211),$=n(205),tt=n(223),et=n(207),nt=n(103),ct=n.n(nt),rt=n(104),at=n.n(rt),st=function(t){var e=t.fullname,n=t.logout,r=t.history,a=t.balance,s=c.useState(null),o=Object(b.a)(s,2),i=o[0],u=o[1],j=Boolean(i),d=function(){u(null)},p=a?"amount-plus":"amount-minus";return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsxs)(f.a,{sx:{display:"flex",alignItems:"center",textAlign:"center"},children:[e&&Object(l.jsxs)("div",{className:"details-header",children:[Object(l.jsxs)(h.a,{children:["Welcome, ",Object(l.jsx)("span",{className:"header-fullname",children:e})]}),Object(l.jsxs)(h.a,{children:["Balance:"," ",Object(l.jsx)("span",{className:p,children:a>0?a.toFixed(2):0})," ","\u20bf"]})]}),Object(l.jsx)(et.a,{title:"Profile",children:Object(l.jsx)(tt.a,{onClick:function(t){u(t.currentTarget)},size:"small",sx:{ml:2},children:e?Object(l.jsx)(x.a,{alt:e,src:e.img}):Object(l.jsx)(x.a,{})})})]}),Object(l.jsxs)(Z.a,{anchorEl:i,open:j,onClose:d,onClick:d,PaperProps:{elevation:0,sx:{overflow:"visible",filter:"drop-shadow(0px 2px 8px rgba(0,0,0,0.32))",mt:1.5,"& .MuiAvatar-root":{width:32,height:32,ml:-.5,mr:1},"&:before":{content:'""',display:"block",position:"absolute",top:0,right:14,width:10,height:10,bgcolor:"background.paper",transform:"translateY(-50%) rotate(45deg)",zIndex:0}}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e&&Object(l.jsxs)(_.a,{onClick:function(){return r.push("/user")},children:[Object(l.jsx)(x.a,{}),"Profile"]}),e&&Object(l.jsxs)(_.a,{onClick:n,children:[Object(l.jsx)($.a,{children:Object(l.jsx)(ct.a,{fontSize:"small"})}),"Logout"]}),!e&&Object(l.jsxs)(_.a,{onClick:function(){return r.push("/signup/login")},children:[Object(l.jsx)($.a,{children:Object(l.jsx)(at.a,{fontSize:"small"})}),"Login"]}),!e&&Object(l.jsx)(_.a,{onClick:function(){return r.push("/signup")},children:"SignUp"})]})]})},ot=function(){var t=Object(o.c)((function(t){return t.userReducer.user})),e=Object(u.f)(),n=Object(o.b)();return Object(c.useEffect)((function(){t||n(K())}),[n,t,null===t||void 0===t?void 0:t.coins]),Object(l.jsxs)("header",{className:"app-header full",children:[Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:"data:image/png;base64,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",alt:""})},onClick:function(){return e.push("/")},className:"home-logo"}),Object(l.jsx)(st,{fullname:null===t||void 0===t?void 0:t.fullname,balance:null===t||void 0===t?void 0:t.coins,logout:function(){n(function(){var t=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.logout();case 2:e({type:"LOGOUT"}),e({type:"CLEAR_TRANSFERS"}),e({type:"CLEAR_CONTACTS"});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(){e.push("/")}))},history:e})]})},it=n.p+"static/media/send.92500005.png",ut=function(t){var e=t.onTransferCoins,n=Object(c.useState)(0),r=Object(b.a)(n,2),a=r[0],s=r[1],o=function(t){e(a,t)};return Object(l.jsx)("section",{className:"transfer-fund",children:Object(l.jsxs)("form",{onSubmit:o,children:[Object(l.jsx)("label",{htmlFor:"amount",children:"Transaction amount"}),Object(l.jsx)("input",{required:!0,placeholder:"Amount",min:"0",id:"amount",type:"number",onChange:function(t){var e=t.target,n="number"===e.type?+e.value:e.value;s(n)},name:"amount",step:"0.01"}),Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:it,alt:""})},onClick:o,className:"send-coin-btn"})]})})},lt={addTransfer:function(t,e,n){return jt.apply(this,arguments)},getTransfers:function(){return dt.apply(this,arguments)},getTransfersByContactId:function(t){return pt.apply(this,arguments)}};function jt(){return(jt=Object(w.a)(y.a.mark((function t(e,n,c){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k("transfer/",{contactEmail:e,transferAmount:n,loggedUserEmail:c});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function dt(){return(dt=Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R("transfer/");case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function pt(){return(pt=Object(w.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R("transfer/".concat(e));case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}var bt=function(){return function(){var t=Object(w.a)(y.a.mark((function t(e){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lt.getTransfers();case 2:(n=t.sent)||(n=null),e({type:"SET_TRANSFERS",transfers:n});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ft=n.p+"static/media/contact.42200432.png",ht=n(216),Ot=n(220),mt=n(219),xt=n(215),gt=n(217),vt=n(218),At=n(214),Ct=function(t){var e=t.rows,n=t.title,c=Object(o.c)((function(t){return t.userReducer.user}));return Object(l.jsxs)(xt.a,{component:At.a,children:[Object(l.jsx)(h.a,{variant:"h4",children:n}),Object(l.jsxs)(ht.a,{sx:{minWidth:650},"aria-label":"sticky table",children:[Object(l.jsx)(gt.a,{children:Object(l.jsxs)(vt.a,{hover:!0,role:"checkbox",children:[Object(l.jsx)(mt.a,{children:"Date"}),Object(l.jsx)(mt.a,{children:"From"}),Object(l.jsx)(mt.a,{children:"To"}),Object(l.jsx)(mt.a,{children:"Amount"}),Object(l.jsx)(mt.a,{children:"Balance"})]})}),Object(l.jsx)(Ot.a,{children:e.map((function(t){var e,n;return Object(l.jsxs)(vt.a,{hover:!0,sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(l.jsx)(mt.a,{children:new Date(t.createdAt).toLocaleDateString()}),t.from===c.email?Object(l.jsx)(mt.a,{children:c.fullname}):Object(l.jsx)(mt.a,{children:t.from}),t.to===c.email?Object(l.jsx)(mt.a,{children:c.fullname}):Object(l.jsx)(mt.a,{children:t.to}),Object(l.jsx)(mt.a,{className:c.email===t.to?"amount-plus":"amount-minus",children:c.email===t.to?"+".concat(t.transferAmount):"-".concat(t.transferAmount)}),t.from===c.email?Object(l.jsx)(mt.a,{children:null===(e=t.fromBalance)||void 0===e?void 0:e.toFixed(2)}):Object(l.jsx)(mt.a,{children:null===(n=t.toBalance)||void 0===n?void 0:n.toFixed(2)})]},t._id)}))})]})]})},yt=n.p+"static/media/edit.b0c1b178.png",wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAFIElEQVR4nO2bTWxVRRTHfxYeVmyND+PKtiKlQEwUAvhR2tT6sXCjyIaouC5GbUyURFAXbN2aiHEpfiE7UWMMMaZqJSIfsgGkr4ro2oJ9RbDYujj3cs9ML7fv3TszvEr/yUvmZWbO+c/cOTNnZs7APOZxTeO6ADoWAuuBDcBKoAtoB1qBxVGZ88A4cAaoACeB74HDwKUAHJ2jBdgCfApUgemcv3FgH/B0JLPhsRx4G5ggf6Ov9KsCu4BOl4RdmUA78AawGViQkv8z8A0ypCvAaeBPpFEgX3cJsBQxkXVAH7AiRda/wB5gO/CHI/65sQh4jfQvfgR4GemcvOgAtgFHU+RXgVeBUgH5hXA7MlFpUlOI3T/iQV8vsBeZFLXOHxHTC4pNwDmLyEHg3gC670carXWfBZ4IoBuAZzG/wt/AC0BTKAKRrsFId8zjErDVt+IdmD1/HLjLt9IMrEZ8Bs1phy9lWy1FB4BbfCmrA2VgCJPboGslmzCH/T6g2bWSAmhGOGlz2OhKeCfmhDdEYzU+RjPia+iJ8Y6iQhdhzrjHgZuLCvWIMnCChO8PFPQTXlfCznN1J7xasRpzdcg9KXZgenjPuWAXCIOYG6q2PEI+whxKIdf5omgCDpHwf69eAV0ks/4UYTw81+hGuMerwrJ6Kr9D0nufOKcWDp+TtOOtWiu1Ytp+rxdqstX9BRhFRpwPPIC5e7yxlkrPqEpHPRED2cp6d1+BY0rPk3Zm2sSmC33oiRSIjxHjeo969qj0rB1QAvrV/70+GAWGbsODyCHtZdgdsJ7ETirAb/54BcMoSTtuAtboTLsDulX6W4+kQmNIpXt0ht0Bq1T6iDc64aEn85U6w+4AvRyNeKMTHrotxpJrd4D2mU97oxMev6q0cUq90Cqob1/OFVC4AjmQyNo/9FjpVzLKTiEe6amcfM6qdGtWwXESpyGz4CwYVXJc/SoF+LQqOX/pjLm0w/MC2wSqJGbQgoyIPHgU8bqyfO9eEjMYBr7LKDuB6dHVCz2aM9s0QjJUVmUVdICdStdOz7ruVLpO6gzbBH5X6br2zw0O3ZYzOsPugCuul3Mc+u7QmEztDtDDY503OuGxVqUzTeCASvfz/0GfSg/rDLsDDiMzLojHFPza2QOWI1f5ID7ATzrT7oBJ4Gv1f8YBwhzEZpX+CokwuYw0R0ivt0/5YBThH5W+6FGP/ogf11KhBfNQ9GEPpED2C5Xo52vF6ce8IFmcXTzBLlXxSy/UwuALkna8WU/FTszr8L7s4g2JHpKLkUly3BR/QNIBx0gPf2tULEBWtJj/u3mEtGNGeW5zxS4AXsS0/dvyCtKXFxeBe1yw84w1wAUS3lkHLbOihNwMx8JGgVsLEvSJJUhUqo5jKhxIuQw5UtKBiY0YuHwDcpQf8xzDQYhMjI2Yq8J+arxoDIS0IKnHXCsZUAriyNBGMIcyZnDUNBK46QV2oOQI5lYzNO7GDIryfdMMSMCkNocLyLITOlT2eWaGyg6EIvA45sQ4jcTkdGdVcoT7EPPTusfwYPOzoQM5XLDP7/djXUA6wlpgNzPD5Q/i+BVJPSghzlLau6BDwEvkDFGL0BbJsMPjYw9vO1fxwYRGG/A+M79O/DuBBF4NAA8hT2PKiC03RemlUd5AVNae3LSt76aAe+sTnfh7NDWBbNPnxHF9CxJs9RnFns1VEQdnC568zxAPJ0vIJmoDctvUhZhMGWlU/HXHkFdgpxB/fhiZRyYDcJzHPK5V/AcZyuFxZOEzXgAAAABJRU5ErkJggg==",Nt=n.p+"static/media/minus.fdcf7131.png",St=n.p+"static/media/loading.06b4e460.gif",Et=function(t){var e=Object(o.c)((function(t){return t.userReducer.user})),n=Object(o.c)((function(t){return t.transferReducer.transfers})),r=Object(o.c)((function(t){return t.contactReducer.currContact})),a=Object(c.useState)(null),s=Object(b.a)(a,2),i=s[0],u=s[1],d=Object(c.useState)(null),p=Object(b.a)(d,2),f=p[0],h=p[1],O=Object(c.useState)(!1),m=Object(b.a)(O,2),x=m[0],g=m[1],v=Object(c.useState)(!1),A=Object(b.a)(v,2),C=A[0],N=A[1],S=Object(o.b)(),E=x?Nt:wt;Object(c.useEffect)((function(){var e=t.match.params.id;return S(q(e)),function(){S((function(t){t({type:"CLEAN_CONTACT"})}))}}),[t.match.params,S]),Object(c.useEffect)((function(){r&&S(bt())}),[r,S]),Object(c.useEffect)((function(){if(r&&n){var t=n.filter((function(t){return r.contactEmail===t.to||r.contactEmail===t.from}));t.length&&(h(t),u(x?t:t.slice(0,3)))}}),[x,n,r]);return r?Object(l.jsxs)("div",{className:"contact-details-page",children:[Object(l.jsxs)("div",{className:"contact-details",children:[Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:yt,alt:""})},onClick:function(){t.history.push("/contact/edit/".concat(r._id))},className:"edit-logo"}),Object(l.jsx)("div",{className:"contact-img-details",children:r.contactImg?Object(l.jsx)("img",{src:r.contactImg,alt:"",className:"contact-img"}):Object(l.jsx)("img",{src:ft,alt:"",className:"contact-img"})}),Object(l.jsxs)("p",{children:["Name: ",r.contactName]}),Object(l.jsxs)("p",{children:["Email: ",r.contactEmail]}),Object(l.jsxs)("p",{children:["Phone: ",r.contactPhone]})]}),C?Object(l.jsx)("img",{className:"loading-transfer",src:St,alt:""}):Object(l.jsx)(ut,{contact:r,onTransferCoins:function(n,c){if(N(!0),c.preventDefault(),e.coins<n)return alert("No enough money");S(function(t,e,n){return function(){var c=Object(w.a)(y.a.mark((function c(r){var a;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,lt.addTransfer(t,e,n);case 2:a=c.sent,r({type:"ADD_TRANSFER",transfer:a});case 4:case"end":return c.stop()}}),c)})));return function(t){return c.apply(this,arguments)}}()}(r.contactEmail,n,e.email)).then((function(){S(K()),N(!1),t.history.push("/contact")}))}}),f&&Object(l.jsxs)("div",{className:"transfers-by-contact",children:[f.length>3&&Object(l.jsx)(j,{onClick:function(){return g((function(t){return!t}))},Icon:function(){return Object(l.jsx)("img",{src:E,alt:""})},className:"more-less-btn"}),Object(l.jsx)(Ct,{title:"Transaction with contact",rows:i})]})]}):Object(l.jsx)("div",{children:"Contact not found..."})},Tt=function(){var t=Object(w.a)(y.a.mark((function t(e){var n,c,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"mister-bitcoin-present","mister-bitcoin",n="https://api.cloudinary.com/v1_1/".concat("mister-bitcoin","/image/upload"),(c=new FormData).append("file",e.target.files[0]),c.append("upload_preset","mister-bitcoin-present"),t.prev=6,t.next=9,S.a.post(n,c);case 9:return r=t.sent,t.abrupt("return",r.data);case 13:t.prev=13,t.t0=t.catch(6),console.error("ERROR!",t.t0);case 16:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}(),Rt=n.p+"static/media/add-contact.1f6972cf.png",kt=n.p+"static/media/upload.0a143b40.png",It=function(t){var e=Object(o.c)((function(t){return t.contactReducer.currContact})),n=Object(c.useState)(!1),r=Object(b.a)(n,2),a=r[0],s=r[1],i=Object(o.b)();Object(c.useEffect)((function(){var n=t.match.params.id;e||i(n?q(n):function(t){t({type:"SET_CONTACT",contact:P.getEmptyContact()})})}),[i,t.match.params,e]),Object(c.useEffect)((function(){return function(){i((function(t){t({type:"CLEAN_CONTACT"})}))}}),[i]);var u=function(){var t=Object(w.a)(y.a.mark((function t(e){var n,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.target.name,"file"!==e.target.type){t.next=9;break}return s(!0),t.next=5,Tt(e);case 5:c=t.sent.url,s(!1),t.next=10;break;case 9:c="number"===e.target.type?+e.target.value:e.target.value;case 10:i(H(n,c));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(n){n.preventDefault(),i(function(t){return function(){var e=Object(w.a)(y.a.mark((function e(n){var c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=!t._id,e.next=3,P.saveContact(t);case 3:r=e.sent,n(c?{type:"ADD_CONTACT",updatedContact:r}:{type:"UPDATE_CONTACT",updatedContact:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e)).then((function(){t.history.push("/contact")}))};return e?Object(l.jsx)("div",{className:"contact-edit",children:Object(l.jsxs)("form",{onSubmit:d,children:[Object(l.jsxs)("div",{className:"contact-name",children:[Object(l.jsx)("label",{htmlFor:"contactName",children:"Fullname"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactName",value:e.contactName,onChange:u,name:"contactName"})]}),Object(l.jsxs)("div",{className:"contact-email",children:[Object(l.jsx)("label",{htmlFor:"contactEmail",children:"Email Address"}),Object(l.jsx)("input",{required:!0,type:"email",id:"contactEmail",value:e.contactEmail,onChange:u,name:"contactEmail"})]}),Object(l.jsxs)("div",{className:"contact-phone",children:[Object(l.jsx)("label",{htmlFor:"contactPhone",children:"Phone Number"}),Object(l.jsx)("input",{required:!0,type:"text",id:"contactPhone",value:e.contactPhone,onChange:u,name:"contactPhone"})]}),Object(l.jsxs)("div",{className:"contact-img",children:[Object(l.jsx)("label",{htmlFor:"contactImg",children:Object(l.jsx)("img",{src:kt,alt:""})}),a?Object(l.jsx)("img",{src:St,alt:""}):Object(l.jsx)("label",{htmlFor:"contactImg",children:Object(l.jsx)("img",{src:e.contactImg,alt:""})}),Object(l.jsx)("input",{hidden:!0,type:"file",id:"contactImg",onChange:u,name:"contactImg"})]}),Object(l.jsx)("div",{className:"actions-btn",children:Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:Rt,alt:""})},onClick:d,className:"add-contact-btn"})})]})}):Object(l.jsx)("h1",{children:"Contact not found"})},Ft=function(t){return Object(l.jsxs)("form",{className:"contact-filter",onSubmit:function(t){return t.preventDefault()},children:[Object(l.jsx)("label",{htmlFor:"term",children:"Search contact"}),Object(l.jsx)("input",{type:"text",id:"term",name:"term",onChange:function(e){var n=e.target;t.onChangeFilter(n.value)},placeholder:"Search..."})]})},Dt=function(t){var e=t.contact;return Object(l.jsx)(i.b,{to:"/contact/".concat(e._id),children:Object(l.jsxs)("div",{className:"contact-preview",children:[e.contactImg?Object(l.jsx)("img",{src:e.contactImg,alt:""}):Object(l.jsx)("img",{src:ft,alt:""}),Object(l.jsx)("p",{children:e.contactName}),Object(l.jsx)("p",{children:e.contactEmail}),Object(l.jsx)("p",{children:e.contactPhone})]})})},Ut=function(t){var e=t.contacts;return Object(l.jsx)("ul",{className:"contact-list",children:e.map((function(t){return Object(l.jsx)("li",{children:Object(l.jsx)(Dt,{contact:t})},t._id)}))})},Pt=function(t){var e=t.history,n=Object(o.c)((function(t){return t.contactReducer.contacts})),r=Object(c.useState)(null),a=Object(b.a)(r,2),s=a[0],i=a[1],u=Object(c.useState)(null),d=Object(b.a)(u,2),p=d[0],f=d[1],h=Object(o.b)();Object(c.useEffect)((function(){if(n)if(s){var t=n.filter((function(t){return t.contactEmail.toLowerCase().includes(s.toLowerCase())||t.contactName.toLowerCase().includes(s.toLowerCase())||t.contactPhone.toLowerCase().includes(s.toLowerCase())}));f(t)}else f(n)}),[h,s,n]);return Object(l.jsxs)("div",{className:"contact-page",children:[Object(l.jsxs)("div",{className:"contact-header",children:[Object(l.jsx)(Ft,{onChangeFilter:function(t){i(t)}}),Object(l.jsx)(j,{Icon:function(){return Object(l.jsx)("img",{src:g,alt:""})},onClick:function(){e.push("/contact/edit")},className:"add-contact-btn"})]}),(null===p||void 0===p?void 0:p.length)?Object(l.jsx)(Ut,{contacts:p}):Object(l.jsx)("h1",{children:"No contacts..."})]})},Bt=n(49),Vt={getRate:function(){return Lt.apply(this,arguments)},getMarketPrice:function(){return qt.apply(this,arguments)},getConfirmedTransactions:function(){return Ht.apply(this,arguments)}};function Lt(){return(Lt=Object(w.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bt.get("https://blockchain.info/tobtc?currency=USD&value=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function qt(){return(qt=Object(w.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bt.get("https://api.blockchain.info/charts/market-price?timespan=5months&format=json&cors=true");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Ht(){return(Ht=Object(w.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Bt.get("https://blockchain.info/tobtc?currency=USD&value=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error("bitcoin service: get rate: cant fetch rate data",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var Gt=n(15),zt=n(109),Wt=n(105),Jt=n(212),Qt=n(206),Mt=["children"],Xt=c.forwardRef((function(t,e){var n=t.children,c=Object(zt.a)(t,Mt);return Object(l.jsxs)("svg",Object(Gt.a)(Object(Gt.a)({width:"150",height:"50"},c),{},{ref:e,children:[Object(l.jsx)("polygon",{points:"0,50 0,0 150,0 150,50",className:"bg"}),Object(l.jsx)("polygon",{points:"0,50 0,0 150,0 150,50",className:"borderEffect"}),Object(l.jsx)("foreignObject",{x:"0",y:"0",width:"150",height:"50",children:Object(l.jsx)("div",{className:"content",children:n})})]}))})),Yt=Object(Qt.a)(Xt)((function(t){var e=t.theme;return"\n  overflow: visible;\n  cursor: pointer;\n  --main-color: ".concat("light"===e.palette.mode?"rgb(25,118,210)":"rgb(144,202,249)",";\n  --hover-color: ").concat("light"===e.palette.mode?"rgba(25,118,210,0.04)":"rgba(144,202,249,0.08)",";\n  --active-color: ").concat("light"===e.palette.mode?"rgba(25,118,210,0.12)":"rgba(144,202,249,0.24)",";\n\n  & polygon {\n    fill: transparent;\n    transition: all 800ms ease;\n    pointer-events: none;\n  }\n  \n  & .bg {\n    stroke: var(--main-color);\n    stroke-width: 0.5;\n    filter: drop-shadow(0 4px 20px rgba(0, 0, 0, 0.1));\n    fill: transparent;\n  }\n\n  & .borderEffect {\n    stroke: var(--main-color);\n    stroke-width: 2;\n    stroke-dasharray: 150 600;\n    stroke-dashoffset: 150;\n    fill: transparent;\n  }\n\n  &:hover,\n  &.").concat(Wt.a.focusVisible," {\n    .borderEffect {\n      stroke-dashoffset: -600;\n    }\n\n    .bg {\n      fill: var(--hover-color);\n    }\n  }\n\n  &:focus,\n  &.").concat(Wt.a.focusVisible," {\n    outline: none;\n  }\n\n  &.").concat(Wt.a.active," { \n    & .bg {\n      fill: var(--active-color);\n      transition: fill 300ms ease-out;\n    }\n  }\n\n  & foreignObject {\n    pointer-events: none;\n\n    & .content {\n      font-family: Helvetica, Inter, Arial, sans-serif;\n      font-size: 14px;\n      font-weight: 200;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: var(--main-color);\n      text-transform: uppercase;\n    }\n\n    & svg {\n      margin: 0 5px;\n    }\n  }")})),Kt=c.forwardRef((function(t,e){return Object(l.jsx)(Jt.a,Object(Gt.a)(Object(Gt.a)({},t),{},{component:Yt,ref:e}))})),Zt=function(){var t=Object(u.f)();return Object(l.jsx)(Kt,{onClick:function(){return t.push("/signup")},children:"Register Now"})},_t=function(t){var e=t.history,n=Object(o.c)((function(t){return t.userReducer.user})),r=Object(o.c)((function(t){return t.transferReducer.transfers})),a=Object(c.useState)(null),s=Object(b.a)(a,2),i=s[0],u=s[1],d=Object(c.useState)(!1),p=Object(b.a)(d,2),f=p[0],h=p[1],O=Object(c.useState)(0),m=Object(b.a)(O,2),x=m[0],g=m[1],v=Object(o.b)(),A=Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(1/x),C=(null===n||void 0===n?void 0:n.coins)||Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(1/x*(null===n||void 0===n?void 0:n.coins));Object(c.useEffect)((function(){n&&v(bt())}),[v,n]),Object(c.useEffect)((function(){var t=function(){var t=Object(w.a)(y.a.mark((function t(){var e;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vt.getRate();case 2:e=t.sent,g(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n&&!x&&t()}),[x,n]),Object(c.useEffect)((function(){(null===r||void 0===r?void 0:r.length)&&u(f?r:null===r||void 0===r?void 0:r.slice(0,3))}),[f,r]);var N=f?Nt:wt,S=f||(null===r||void 0===r?void 0:r.length)<=3?"All Transaction":"Recent Transaction",E=(null===n||void 0===n?void 0:n.coins)?"amount-plus":"amount-minus";return n?Object(l.jsxs)("div",{className:"home-page logged-user",children:[Object(l.jsxs)("div",{className:"user-balance",children:[Object(l.jsx)("h4",{children:"Wallet Balance:"}),Object(l.jsx)("h2",{className:E,children:C}),Object(l.jsxs)("h3",{children:["You have"," ",Object(l.jsx)("span",{className:E,children:n.coins.toFixed(2)})," ","bitcoins"]}),Object(l.jsxs)("h4",{children:["1 Bitcoin: ",A]})]}),i&&Object(l.jsxs)("div",{className:"transfers-table",children:[(null===r||void 0===r?void 0:r.length)>3&&Object(l.jsx)(j,{onClick:function(){return h((function(t){return!t}))},Icon:function(){return Object(l.jsx)("img",{src:N,alt:""})},className:"more-less-btn"}),Object(l.jsx)(Ct,{title:S,rows:i})]})]}):Object(l.jsx)("div",{className:"home-page guest",children:Object(l.jsxs)("div",{className:"guest-welcome",children:[Object(l.jsx)("h1",{children:"Welcome to Mister Bitcoin"}),Object(l.jsx)("h3",{children:"Demo bitcoin wallet"}),Object(l.jsx)(Zt,{}),Object(l.jsx)("p",{onClick:function(){return e.push("/signup/login")},children:"Already registered? login"})]})})},$t=function(){var t=Object(c.useState)(null),e=Object(b.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(b.a)(a,2),i=s[0],j=s[1],d=Object(c.useState)(null),p=Object(b.a)(d,2),f=p[0],h=p[1],O=Object(c.useState)(!1),m=Object(b.a)(O,2),x=m[0],g=m[1],v=Object(o.b)(),A=Object(u.f)();return x?Object(l.jsx)("img",{className:"login-loading",src:St,alt:""}):Object(l.jsx)("div",{className:"login",children:Object(l.jsxs)("form",{className:"login-form",onSubmit:function(t){g(!0),t.preventDefault();var e=t.target.querySelector("#login-email").value,n=t.target.querySelector("#login-password").value;v(function(t){return function(){var e=Object(w.a)(y.a.mark((function e(n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.login(t);case 3:c=e.sent,n({type:"SET_USER",user:c}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}({email:e,password:n})).then((function(){A.push("/")})).catch((function(t){var e,n,c;g(!1),j(null===(e=t.response)||void 0===e?void 0:e.data),setTimeout((function(){j(null)}),2e3),"Invalid email"===(null===(n=t.response)||void 0===n?void 0:n.data)&&(r("error-input"),setTimeout((function(){r(null)}),2e3)),"Invalid password"===(null===(c=t.response)||void 0===c?void 0:c.data)&&(h("error-input"),setTimeout((function(){h(null)}),2e3))}))},children:[Object(l.jsx)("h1",{children:"Login"}),Object(l.jsx)("label",{htmlFor:"login-email",children:"Email"}),"Invalid email"===i&&Object(l.jsx)("p",{className:"err-msg",children:i}),Object(l.jsx)("input",{className:n,required:!0,type:"email",id:"login-email",name:"login-email",placeholder:"Ex.. israeli2021@gmail.com"}),Object(l.jsx)("label",{htmlFor:"login-password",children:"Password"}),"Invalid password"===i&&Object(l.jsx)("p",{className:"err-msg",children:i}),Object(l.jsx)("input",{className:f,required:!0,type:"password",id:"login-password",name:"login-password",placeholder:"Ex.. !#@fdsf54%"}),Object(l.jsx)("button",{children:"Login"}),Object(l.jsx)("p",{onClick:function(){return A.push("/signup")},children:"Register now"})]})})},te=function(){var t=Object(c.useState)(null),e=Object(b.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(b.a)(a,2),i=s[0],j=s[1],d=Object(o.b)(),p=Object(u.f)(),f=function(){var t=Object(w.a)(y.a.mark((function t(e){var n,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.value,t.next=3,z.isSigned(n);case 3:(c=t.sent)?(r(c),j("signup-btn-is-email")):(r(null),j(null));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.querySelector("#signup-fullname").value,n=t.target.querySelector("#signup-password").value,c=t.target.querySelector("#signup-email").value,r=t.target.querySelector("#signup-phone").value;d(function(t){return function(){var e=Object(w.a)(y.a.mark((function e(n){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.signup(t);case 3:c=e.sent,n({type:"SET_USER",user:c}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}({fullname:e,password:n,email:c,phone:r})).then((function(){p.push("/")})).catch((function(t){console.log(t.response.data)}))},children:[Object(l.jsx)("h1",{children:"Signup"}),Object(l.jsx)("label",{htmlFor:"signup-fullname",children:"Full name"}),Object(l.jsx)("input",{required:!0,type:"text",id:"signup-fullname",name:"signup-fullname",placeholder:"Ex.. Israel Israeli"}),Object(l.jsx)("label",{htmlFor:"signup-password",children:"Password"}),Object(l.jsx)("input",{required:!0,type:"password",id:"signup-password",name:"signup-password",placeholder:"Ex.. !#@fdsf54%"}),Object(l.jsx)("label",{htmlFor:"signup-email",children:"Email"}),n&&Object(l.jsx)("p",{className:"err-msg",children:"Already registered"}),Object(l.jsx)("input",{required:!0,type:"signup-email",id:"signup-email",onChange:f,name:"signup-email",placeholder:"Ex.. israeli2021@gmail.com"}),Object(l.jsx)("label",{htmlFor:"signup-phone",children:"Phone number"}),Object(l.jsx)("input",{required:!0,type:"number",id:"signup-phone",name:"signup-phone",placeholder:"Ex.. 05x-xxxxxxx"}),Object(l.jsx)("button",{disabled:n,className:i,children:"Sign up"}),Object(l.jsx)("p",{onClick:function(){return p.push("/signup/login")},children:"Already registered? login"})]})},ee=function(t){var e=Object(c.useState)("Login"),n=Object(b.a)(e,2),r=n[0],a=n[1];Object(c.useEffect)((function(){var e=t.history.location.pathname;a("/signup/login"===e?"Login":"SignUp")}),[t.history.location]);var s={SignUp:te,Login:$t}[r];return Object(l.jsx)("div",{className:"signup-page",children:Object(l.jsx)(s,{})})},ne=n(69),ce=function(t){t.title;var e=t.data,n=t.description;return Object(l.jsxs)("div",{className:"chart",children:[Object(l.jsx)("h1",{children:n}),Object(l.jsxs)(ne.Sparklines,{data:e,children:[Object(l.jsx)(ne.SparklinesLine,{color:"red"}),Object(l.jsx)(ne.SparklinesSpots,{size:1})]})]})},re=function(){var t=Object(c.useState)(null),e=Object(b.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(null),s=Object(b.a)(a,2),o=s[0],i=s[1];return Object(c.useEffect)((function(){var t=function(){var t=Object(w.a)(y.a.mark((function t(){var e,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Vt.getMarketPrice();case 3:e=t.sent,r(e),n=e.values.map((function(t){return t.y})),i(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0.response.data);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t()}),[]),n&&o&&Object(l.jsxs)("div",{className:"statistic-page",children:[Object(l.jsx)("h1",{children:"Statistic page:"}),Object(l.jsx)(ce,{title:n.name,description:n.description,data:o,color:"red"})]})},ae=function(){var t=Object(o.c)((function(t){return t.userReducer.user})),e=t.img?t.img:ft;return Object(l.jsx)("div",{className:"user-details-page",children:Object(l.jsxs)("div",{className:"user-details",children:[Object(l.jsx)("img",{src:e,alt:""}),Object(l.jsxs)("p",{children:["Fullname: ",t.fullname]}),Object(l.jsxs)("p",{children:["Phone: ",t.phone]}),Object(l.jsxs)("p",{children:["Email: ",t.email]})]})})},se=function(){return Object(l.jsx)(i.a,{children:Object(l.jsxs)("div",{className:"App main-layout",children:[Object(l.jsx)(ot,{}),Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{component:It,path:"/contact/edit/:id?"}),Object(l.jsx)(u.a,{component:Et,path:"/contact/:id"}),Object(l.jsx)(u.a,{component:Pt,path:"/contact"}),Object(l.jsx)(u.a,{component:ae,path:"/user"}),Object(l.jsx)(u.a,{component:re,path:"/statistic"}),Object(l.jsx)(u.a,{component:ee,path:"/signup"}),Object(l.jsx)(u.a,{component:_t,path:"/"})]}),Object(l.jsx)(G,{})]})})},oe=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,224)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))},ie=n(56),ue=n(23),le={transfers:[]};var je={user:null},de=n(9),pe={contacts:[],currContact:null};var be=n(106),fe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.c,he=Object(ie.b)({transferReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TRANSFERS":return Object(Gt.a)(Object(Gt.a)({},t),{},{transfers:e.transfers});case"ADD_TRANSFER":return t.transfers?Object(Gt.a)(Object(Gt.a)({},t),{},{transfers:[].concat(Object(ue.a)(t.transfers),[e.transfer])}):Object(Gt.a)(Object(Gt.a)({},t),{},{transfers:[e.transfer]});case"CLEAR_TRANSFERS":return{transfers:null};default:return t}},userReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,e=arguments.length>1?arguments[1]:void 0;switch(console.log(e),e.type){case"SET_USER":return Object(Gt.a)(Object(Gt.a)({},t),{},{user:e.user});case"LOGOUT":return{user:null};case"SET_BALANCE":return{user:Object(Gt.a)(Object(Gt.a)({},t.user),{},{balance:e.balance})};case"CLEAR_USER_STORE":return{balance:null,fullname:null};default:return t}},contactReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CONTACTS":return Object(Gt.a)(Object(Gt.a)({},t),{},{contacts:e.contacts});case"SET_CONTACT":return Object(Gt.a)(Object(Gt.a)({},t),{},{currContact:e.contact});case"EDIT_CONTACT":return Object(Gt.a)(Object(Gt.a)({},t),{},{currContact:Object(Gt.a)(Object(Gt.a)({},t.currContact),{},Object(de.a)({},e.field,e.value))});case"ADD_CONTACT":return Object(Gt.a)(Object(Gt.a)({},t),{},{contacts:[].concat(Object(ue.a)(t.contacts),[e.updatedContact])});case"REMOVE_CONTACT":return Object(Gt.a)(Object(Gt.a)({},t),{},{contacts:t.contacts.filter((function(t){return t._id!==e.contactId}))});case"UPDATE_CONTACT":var n=e.updatedContact;return Object(Gt.a)(Object(Gt.a)({},t),{},{contacts:t.contacts.map((function(t){return t._id===n._id?n:t}))});case"CLEAN_CONTACT":return Object(Gt.a)(Object(Gt.a)({},t),{},{currContact:null});case"CLEAR_CONTACTS":return{contacts:[],currContact:null};default:return t}}}),Oe=Object(ie.d)(he,fe(Object(ie.a)(be.a)));n(154);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(o.a,{store:Oe,children:Object(l.jsx)(se,{})})}),document.getElementById("root")),oe()}},[[155,1,2]]]);
//# sourceMappingURL=main.9fdfe05d.chunk.js.map